/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/js/classPuzzle.js":
/*!**********************************!*\
  !*** ./assets/js/classPuzzle.js ***!
  \**********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _etc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./etc */ \"./assets/js/etc.js\");\n/* harmony import */ var _classTimeMoves__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./classTimeMoves */ \"./assets/js/classTimeMoves.js\");\n/* harmony import */ var _classSolutionCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./classSolutionCheck */ \"./assets/js/classSolutionCheck.js\");\n;\r\n\r\n\r\n\r\nclass Puzzle {\r\n  constructor() {\r\n    this.solutionCheck = new _classSolutionCheck__WEBPACK_IMPORTED_MODULE_2__.default();\r\n    this.timeMoves = new _classTimeMoves__WEBPACK_IMPORTED_MODULE_1__.default();\r\n    this.gameBoard = this.createBoard();\r\n    this.gamePopUpButton = this.createPopUpButton();\r\n    this.setBoardSize();\r\n\r\n    this.gameMenu = this.createMenu();\r\n    this.gamePuzzle = this.createPuzzle();\r\n    this.gameLoad = this.createLoad();\r\n    this.gameScores = this.createScores();\r\n    this.gameSettings = this.createSettings();\r\n    this.gameHelp = this.createHelp();\r\n    this.gamePopUp = this.createPopUp();\r\n    this.setFontSize();\r\n\r\n    this.displacementArr = new Array(0);\r\n    this.imageIndex = 0;\r\n  }\r\n\r\n  createBoard() {\r\n    const gameBoard = document.createElement('section');\r\n    gameBoard.className = 'game-board';\r\n    document.body.appendChild(gameBoard);\r\n\r\n    return gameBoard;\r\n  }\r\n\r\n  setBoardSize() {\r\n    if (window.innerWidth > window.innerHeight) {\r\n      this.gameBoard.style.width = `${window.innerHeight * 0.6}px`;\r\n      this.gameBoard.style.height = `${window.innerHeight * 0.6}px`;\r\n      this.timeMoves.sectionTimeMoves.style.width = `${window.innerHeight * 0.6}px`;\r\n    } else {\r\n      this.gameBoard.style.width = `${window.innerWidth * 0.6}px`;\r\n      this.gameBoard.style.height = `${window.innerWidth * 0.6}px`;\r\n      this.timeMoves.sectionTimeMoves.style.width = `${window.innerWidth * 0.6}px`;\r\n    }\r\n    this.timeMoves.sectionTimeMoves.firstChild.style.height = `${+this.gameBoard.style.height.replace('px', '') * 0.09}px`;\r\n    this.timeMoves.sectionTimeMoves.firstChild.style.width = `${+this.timeMoves.sectionTimeMoves.firstChild.style.height.replace('px', '') * 2.5}px`;\r\n    this.timeMoves.sectionTimeMoves.lastChild.style.height = this.timeMoves.sectionTimeMoves.firstChild.style.height;\r\n    this.timeMoves.sectionTimeMoves.lastChild.style.width = `${+this.timeMoves.sectionTimeMoves.lastChild.style.height.replace('px', '') * 4}px`;\r\n    this.gameBoard.style.borderWidth = `${+this.gameBoard.style.width.replace('px', '') * 0.06}px`;\r\n    this.gamePopUpButton.style.height = `${+this.gameBoard.style.height.replace('px', '') * 0.09}px`;\r\n    this.gamePopUpButton.style.width = `${+this.gamePopUpButton.style.height.replace('px', '') * 3}px`;\r\n  }\r\n\r\n  setFontSize() {\r\n    this.gameBoard.style.fontSize = `${+this.gameBoard.style.height.replace('px', '') * 0.1}px`;\r\n    this.gameLoad.style.fontSize = `${+this.gameBoard.style.height.replace('px', '') * 0.07}px`;\r\n    this.gameScores.style.fontSize = `${+this.gameBoard.style.height.replace('px', '') * 0.07}px`;\r\n    this.gameSettings.children[1].children[0].style.fontSize = `${+this.gameBoard.style.height.replace('px', '') * 0.1}px`;\r\n    this.timeMoves.sectionTimeMoves.style.fontSize = `${+this.gameBoard.style.height.replace('px', '') * 0.07}px`;\r\n    this.gamePopUpButton.style.fontSize = `${+this.gameBoard.style.height.replace('px', '') * 0.07}px`;\r\n  }\r\n\r\n  createPopUpButton() {\r\n    const gamePopUpButton = document.createElement('div');\r\n    gamePopUpButton.className = 'game-popup-button display-none';\r\n    gamePopUpButton.innerHTML = 'Pause';\r\n    document.body.appendChild(gamePopUpButton);\r\n\r\n    gamePopUpButton.addEventListener('click', () => {\r\n      if (gamePopUpButton.innerHTML === 'Pause') {\r\n        this.gamePopUp.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUp, 'on');\r\n        this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'off');\r\n        gamePopUpButton.innerHTML = 'Resume';\r\n        this.timeMoves.flagTime = false;\r\n      } else {\r\n        this.gamePopUp.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUp, 'off');\r\n        this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'on');\r\n        gamePopUpButton.innerHTML = 'Pause';\r\n        this.timeMoves.flagTime = true;\r\n        this.timeMoves.stopwatch(this.timeMoves.countSeconds);\r\n      }\r\n    });\r\n\r\n    return gamePopUpButton;\r\n  }\r\n\r\n  createPopUp() {\r\n    const gamePopUp = document.createElement('section');\r\n    gamePopUp.className = 'game-popup display-none';\r\n    this.gameBoard.appendChild(gamePopUp);\r\n    this.fillPopUp(gamePopUp);\r\n    return gamePopUp;\r\n  }\r\n\r\n  fillPopUp(gamePopUp) {\r\n    const gamePopUpMenu = document.createElement('ul');\r\n    gamePopUp.appendChild(gamePopUpMenu);\r\n    ['Resume', 'Save game', 'Sound: on', 'Solve', 'Main menu'].forEach((itemMenuName, indexMenu) => {\r\n      const itemMenu = document.createElement('li');\r\n      itemMenu.innerHTML = itemMenuName;\r\n      switch (indexMenu) {\r\n      case 0:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gamePopUp.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUp, 'off');\r\n          this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'on');\r\n          this.gamePopUpButton.innerHTML = 'Pause';\r\n          this.timeMoves.flagTime = true;\r\n          this.timeMoves.stopwatch(this.timeMoves.countSeconds);\r\n        });\r\n        break;\r\n      case 1:\r\n        itemMenu.addEventListener('click', () => {\r\n          if (itemMenu.innerHTML === 'Save game') {\r\n            itemMenu.innerHTML = 'Game saved';\r\n            const saveGame = {};\r\n            saveGame.countSeconds = this.timeMoves.countSeconds;\r\n            saveGame.countMoves = this.timeMoves.countMoves;\r\n            saveGame.imageIndex = this.imageIndex;\r\n            saveGame.displacementArr = this.displacementArr;\r\n            saveGame.currentSolve = new Array(0);\r\n            Array.from(this.gamePuzzle.children).forEach((element) => {\r\n              const indexTop = +element.style.top.replace('px', '') / +element.style.height.replace('px', '');\r\n              const indexLeft = +element.style.left.replace('px', '') / +element.style.width.replace('px', '');\r\n              saveGame.currentSolve.push([indexTop, indexLeft]);\r\n            });\r\n\r\n            const arrayGames = localStorage.getItem('arrayGames') !== null ? JSON.parse(localStorage.getItem('arrayGames')) : new Array(0);\r\n            arrayGames.push(saveGame);\r\n            localStorage.setItem('arrayGames', JSON.stringify(arrayGames));\r\n          }\r\n        });\r\n        break;\r\n      case 2:\r\n        itemMenu.addEventListener('click', () => {\r\n          if (itemMenu.innerHTML === 'Sound: on') {\r\n            itemMenu.innerHTML = 'Sound: off';\r\n          } else {\r\n            itemMenu.innerHTML = 'Sound: on';\r\n          }\r\n        });\r\n        break;\r\n      case 3:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gamePopUp.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUp, 'off');\r\n          this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'on');\r\n          this.gamePopUpButton.innerHTML = 'Pause';\r\n          this.timeMoves.flagTime = true;\r\n          this.timeMoves.stopwatch(this.timeMoves.countSeconds);\r\n\r\n          this.reverseSolve(this.displacementArr.length - 1);\r\n        });\r\n        break;\r\n      default:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'on');\r\n          this.gamePopUp.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUp, 'off');\r\n          this.gamePopUpButton.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUpButton, 'off');\r\n          this.timeMoves.sectionTimeMoves.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.timeMoves.sectionTimeMoves, 'off');\r\n          this.gamePopUpButton.innerHTML = 'Pause';\r\n          this.gamePopUp.firstChild.children[1].innerHTML = 'Save game';\r\n\r\n          this.displacementArr = new Array(0);\r\n          this.timeMoves.countMoves = 0;\r\n          this.timeMoves.countSeconds = 0;\r\n        });\r\n        break;\r\n      }\r\n      gamePopUpMenu.appendChild(itemMenu);\r\n    });\r\n  }\r\n\r\n  createMenu() {\r\n    const gameMenu = document.createElement('ul');\r\n    gameMenu.className = 'game-menu';\r\n    this.gameBoard.appendChild(gameMenu);\r\n    this.fillMenu(gameMenu);\r\n    return gameMenu;\r\n  }\r\n\r\n  fillMenu(gameMenu) {\r\n    ['New game', 'Saved games', 'Best scores', 'Settings', 'Help'].forEach((itemMenuName, indexMenu) => {\r\n      const itemMenu = document.createElement('li');\r\n      itemMenu.innerHTML = itemMenuName;\r\n      switch (indexMenu) {\r\n      case 0:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'off');\r\n          this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'on');\r\n          this.gamePopUpButton.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUpButton, 'on');\r\n          this.createGame();\r\n        });\r\n        break;\r\n      case 1:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'off');\r\n          this.gameLoad.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameLoad, 'on');\r\n          this.fillLoad();\r\n        });\r\n        break;\r\n      case 2:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'off');\r\n          this.gameScores.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameScores, 'on');\r\n          this.fillScores();\r\n        });\r\n        break;\r\n      case 3:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'off');\r\n          this.gameSettings.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameSettings, 'on');\r\n        });\r\n        break;\r\n      default:\r\n        itemMenu.addEventListener('click', () => {\r\n          this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'off');\r\n          this.gameHelp.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameHelp, 'on');\r\n        });\r\n        break;\r\n      }\r\n      gameMenu.appendChild(itemMenu);\r\n    });\r\n  }\r\n\r\n  createPuzzle() {\r\n    const gamePuzzle = document.createElement('ul');\r\n    gamePuzzle.className = 'game-puzzle display-none';\r\n    this.gameBoard.appendChild(gamePuzzle);\r\n\r\n    let prevActiveElement = null;\r\n    gamePuzzle.addEventListener('dragstart', (element) => {\r\n      const emptyElement = document.querySelector('.empty-mosaic');\r\n      const dragImgEl = document.createElement('span');\r\n\r\n      element.dataTransfer.setDragImage(dragImgEl, 0, 0);\r\n      if ((0,_etc__WEBPACK_IMPORTED_MODULE_0__.searchDiff)(emptyElement, element.target) === 1) {\r\n        element.target.classList.add('selected');\r\n        if (prevActiveElement !== element.target) {\r\n          if (prevActiveElement != null) {\r\n            const prevel = prevActiveElement;\r\n            prevel.classList.remove('selected');\r\n          }\r\n          prevActiveElement = element.target;\r\n        }\r\n      }\r\n    });\r\n\r\n    gamePuzzle.addEventListener('dragend', (element) => {\r\n      element.target.classList.remove('selected');\r\n    });\r\n\r\n    gamePuzzle.addEventListener('dragenter', (element) => {\r\n      element.preventDefault();\r\n      const activeElement = gamePuzzle.querySelector('.selected');\r\n      const emptyElement = document.querySelector('.empty-mosaic');\r\n\r\n      if (emptyElement === element.target) {\r\n        this.exchangeElements(activeElement, element.target);\r\n      }\r\n    });\r\n\r\n    return gamePuzzle;\r\n  }\r\n\r\n  createGame() {\r\n    const lengthLine = this.gameSettings.children[1].children[0].selectedIndex + 3;\r\n    const numberOfMosaics = lengthLine ** 2;\r\n    const puzzleWidth = (this.gameBoard.clientWidth / lengthLine).toFixed(3);\r\n    const puzzleHeight = (this.gameBoard.clientHeight / lengthLine).toFixed(3);\r\n    this.displacementArr = new Array(0);\r\n\r\n    while (this.gamePuzzle.firstChild) {\r\n      this.gamePuzzle.removeChild(this.gamePuzzle.firstChild);\r\n    }\r\n\r\n    if (this.gamePuzzle.className.indexOf('game-field-') !== -1) {\r\n      this.gamePuzzle.className = this.gamePuzzle.className.replace(/[1-9]/, `${lengthLine}`);\r\n    } else {\r\n      this.gamePuzzle.classList.add(`game-field-${lengthLine}`);\r\n    }\r\n\r\n    for (let i = 0; i < numberOfMosaics; i += 1) {\r\n      const mosaic = document.createElement('li');\r\n      mosaic.id = `m${i}`;\r\n      mosaic.classList.add('mosaic');\r\n      mosaic.draggable = i !== numberOfMosaics - 1;\r\n      // mosaic.innerHTML = i === numberOfMosaics - 1 ? '' : i + 1;\r\n\r\n      mosaic.style.width = `${puzzleWidth}px`;\r\n      mosaic.style.height = `${puzzleHeight}px`;\r\n\r\n      const indexHeight = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.divInt)(i, lengthLine);\r\n      let indexWidth = i;\r\n      while (indexWidth - (lengthLine - 1) > 0) {\r\n        indexWidth -= lengthLine;\r\n      }\r\n\r\n      mosaic.style.top = `${puzzleHeight * indexHeight}px`;\r\n      mosaic.style.left = `${puzzleWidth * indexWidth}px`;\r\n\r\n      if (i === numberOfMosaics - 1) {\r\n        mosaic.classList.add('empty-mosaic');\r\n      } else {\r\n        mosaic.addEventListener('click', () => {\r\n          const emptyElement = document.querySelector('.empty-mosaic');\r\n          if ((0,_etc__WEBPACK_IMPORTED_MODULE_0__.searchDiff)(emptyElement, mosaic) === 1) {\r\n            this.exchangeElements(emptyElement, mosaic);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.gamePuzzle.appendChild(mosaic);\r\n    }\r\n\r\n    this.imageIndex = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.getRandomInt)(149);\r\n    this.setBgImage(lengthLine, this.imageIndex);\r\n\r\n    this.shufflePuzzle(lengthLine);\r\n\r\n    this.timeMoves.sectionTimeMoves.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.timeMoves.sectionTimeMoves, 'on');\r\n    this.timeMoves.countSeconds = 0;\r\n    this.timeMoves.flagTime = true;\r\n    this.timeMoves.stopwatch(this.timeMoves.countSeconds);\r\n\r\n    this.timeMoves.countMoves = 0;\r\n    this.timeMoves.sectionTimeMoves.lastChild.innerHTML = `Moves:${this.timeMoves.countMoves}`;\r\n  }\r\n\r\n  createLoad() {\r\n    const gameLoad = document.createElement('ul');\r\n    gameLoad.className = 'game-load display-none';\r\n    this.gameBoard.appendChild(gameLoad);\r\n\r\n    return gameLoad;\r\n  }\r\n\r\n  fillLoad() {\r\n    while (this.gameLoad.firstChild) {\r\n      this.gameLoad.removeChild(this.gameLoad.firstChild);\r\n    }\r\n\r\n    const arrayGames = localStorage.getItem('arrayGames') != null ? JSON.parse(localStorage.getItem('arrayGames')) : new Array(0);\r\n    arrayGames.forEach((element) => {\r\n      const itemLoad = document.createElement('li');\r\n      itemLoad.innerHTML = `Sec: ${element.countSeconds} Moves: ${element.countMoves}`;\r\n      this.gameLoad.appendChild(itemLoad);\r\n\r\n      itemLoad.addEventListener('click', () => {\r\n        this.loadGame(element);\r\n        this.gameLoad.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameLoad, 'off');\r\n        this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'on');\r\n        this.gamePopUpButton.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUpButton, 'on');\r\n      });\r\n    });\r\n    if (arrayGames.length === 0) {\r\n      const itemInfo = document.createElement('li');\r\n      itemInfo.innerHTML = 'Сохраненных игр еще нет';\r\n      this.gameLoad.appendChild(itemInfo);\r\n    }\r\n    const itemBack = document.createElement('li');\r\n    itemBack.innerHTML = 'Main menu';\r\n    itemBack.addEventListener('click', () => {\r\n      this.gameLoad.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameLoad, 'off');\r\n      this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'on');\r\n    });\r\n    this.gameLoad.appendChild(itemBack);\r\n  }\r\n\r\n  loadGame(loadGameObj) {\r\n    const currentGame = loadGameObj.currentSolve;\r\n    const lengthLine = currentGame.length ** 0.5;\r\n    const numberOfMosaics = lengthLine ** 2;\r\n    const puzzleWidth = (this.gameBoard.clientWidth / lengthLine).toFixed(3);\r\n    const puzzleHeight = (this.gameBoard.clientHeight / lengthLine).toFixed(3);\r\n\r\n    while (this.gamePuzzle.firstChild) {\r\n      this.gamePuzzle.removeChild(this.gamePuzzle.firstChild);\r\n    }\r\n\r\n    if (this.gamePuzzle.className.indexOf('game-field-') !== -1) {\r\n      this.gamePuzzle.className = this.gamePuzzle.className.replace(/[1-9]/, `${lengthLine}`);\r\n    } else {\r\n      this.gamePuzzle.classList.add(`game-field-${lengthLine}`);\r\n    }\r\n\r\n    currentGame.forEach((arrayPos, index) => {\r\n      const mosaic = document.createElement('li');\r\n      mosaic.id = `m${index}`;\r\n      mosaic.classList.add('mosaic');\r\n      mosaic.draggable = index !== numberOfMosaics - 1;\r\n      // mosaic.innerHTML = index === numberOfMosaics - 1 ? '' : index + 1;\r\n\r\n      mosaic.style.width = `${puzzleWidth}px`;\r\n      mosaic.style.height = `${puzzleHeight}px`;\r\n\r\n      const indexHeight = arrayPos[0];\r\n      const indexWidth = arrayPos[1];\r\n      mosaic.style.top = `${puzzleHeight * indexHeight}px`;\r\n      mosaic.style.left = `${puzzleWidth * indexWidth}px`;\r\n\r\n      if (index === numberOfMosaics - 1) {\r\n        mosaic.classList.add('empty-mosaic');\r\n      } else {\r\n        mosaic.addEventListener('click', () => {\r\n          const emptyElement = document.querySelector('.empty-mosaic');\r\n          if ((0,_etc__WEBPACK_IMPORTED_MODULE_0__.searchDiff)(emptyElement, mosaic) === 1) {\r\n            this.exchangeElements(emptyElement, mosaic);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.gamePuzzle.appendChild(mosaic);\r\n    });\r\n    this.displacementArr = loadGameObj.displacementArr;\r\n\r\n    this.imageIndex = loadGameObj.imageIndex;\r\n    this.setBgImage(lengthLine, this.imageIndex);\r\n\r\n    this.timeMoves.sectionTimeMoves.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.timeMoves.sectionTimeMoves, 'on');\r\n    this.timeMoves.countSeconds = loadGameObj.countSeconds;\r\n    this.timeMoves.flagTime = true;\r\n    this.timeMoves.stopwatch(this.timeMoves.countSeconds);\r\n\r\n    this.timeMoves.countMoves = loadGameObj.countMoves;\r\n    this.timeMoves.sectionTimeMoves.lastChild.innerHTML = `Moves:${this.timeMoves.countMoves}`;\r\n  }\r\n\r\n  createScores() {\r\n    const gameScores = document.createElement('ul');\r\n    gameScores.className = 'game-scores display-none';\r\n    this.gameBoard.appendChild(gameScores);\r\n\r\n    return gameScores;\r\n  }\r\n\r\n  updateScores() {\r\n    const loadScoresObj = localStorage.getItem('arrayScores') != null ? JSON.parse(localStorage.getItem('arrayScores')) : new Array(0);\r\n    const saveScore = {};\r\n    saveScore.countSeconds = this.timeMoves.countSeconds;\r\n    saveScore.countMoves = this.timeMoves.countMoves;\r\n    saveScore.name = localStorage.getItem('enterName') === '[ Введите имя ]' ? 'Аноним' : localStorage.getItem('enterName');\r\n    saveScore.complexity = this.gamePuzzle.children.length ** 0.5;\r\n    if (loadScoresObj.length === 0) {\r\n      loadScoresObj.push(saveScore);\r\n    } else {\r\n      loadScoresObj.push(saveScore);\r\n      loadScoresObj.sort((objA, objB) => {\r\n        if (objA.countMoves > objB.countMoves) {\r\n          return 1;\r\n        } if (objA.countMoves < objB.countMoves) {\r\n          return -1;\r\n        }\r\n        if (objA.countSeconds > objB.countSeconds) {\r\n          return 1;\r\n        } if (objA.countSeconds < objB.countSeconds) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n      if (loadScoresObj.length > 10) {\r\n        loadScoresObj.pop();\r\n      }\r\n    }\r\n    localStorage.setItem('arrayScores', JSON.stringify(loadScoresObj));\r\n  }\r\n\r\n  fillScores() {\r\n    while (this.gameScores.firstChild) {\r\n      this.gameScores.removeChild(this.gameScores.firstChild);\r\n    }\r\n\r\n    const loadScoresObj = localStorage.getItem('arrayScores') != null ? JSON.parse(localStorage.getItem('arrayScores')) : new Array(0);\r\n    if (loadScoresObj.length === 0) {\r\n      const itemNone = document.createElement('li');\r\n      itemNone.innerHTML = 'Лидеров еще нет';\r\n      this.gameScores.appendChild(itemNone);\r\n    } else {\r\n      loadScoresObj.forEach((scoreObj, indexObj) => {\r\n        const itemObj = document.createElement('li');\r\n        itemObj.innerHTML = `${indexObj + 1}. ${scoreObj.name} - ${scoreObj.countMoves}(${scoreObj.complexity}x${scoreObj.complexity}) за ${(0,_etc__WEBPACK_IMPORTED_MODULE_0__.timeConversion)(scoreObj.countSeconds)}`;\r\n        this.gameScores.appendChild(itemObj);\r\n      });\r\n    }\r\n\r\n    const itemBack = document.createElement('li');\r\n    itemBack.innerHTML = 'Main menu';\r\n    itemBack.addEventListener('click', () => {\r\n      this.gameScores.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameScores, 'off');\r\n      this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'on');\r\n    });\r\n    this.gameScores.appendChild(itemBack);\r\n  }\r\n\r\n  createSettings() {\r\n    const gameSettings = document.createElement('ul');\r\n    gameSettings.className = 'game-settings display-none';\r\n    this.gameBoard.appendChild(gameSettings);\r\n\r\n    this.fillSettings(gameSettings);\r\n\r\n    return gameSettings;\r\n  }\r\n\r\n  fillSettings(gameSettings) {\r\n    const settingsSelect = document.createElement('select');\r\n    settingsSelect.className = 'game-settings-select';\r\n\r\n    ['Choose the difficulty:', '', 'Main menu'].forEach((itemSettingsName, indexSettings) => {\r\n      const itemSettings = document.createElement('li');\r\n\r\n      if (itemSettingsName === '') {\r\n        ['3x3', '4x4', '5x5', '6x6', '7x7', '8x8'].forEach((itemSelectName) => {\r\n          const itemSelect = document.createElement('option');\r\n          itemSelect.innerHTML = itemSelectName;\r\n          if (itemSelectName === '4x4') {\r\n            itemSelect.setAttribute('selected', true);\r\n          }\r\n          settingsSelect.appendChild(itemSelect);\r\n        });\r\n        itemSettings.appendChild(settingsSelect);\r\n      } else {\r\n        itemSettings.innerHTML = itemSettingsName;\r\n      }\r\n\r\n      if (indexSettings === 2) {\r\n        itemSettings.addEventListener('click', () => {\r\n          this.gameSettings.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameSettings, 'off');\r\n          this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'on');\r\n        });\r\n      }\r\n\r\n      gameSettings.appendChild(itemSettings);\r\n    });\r\n  }\r\n\r\n  createHelp() {\r\n    const gameHelp = document.createElement('ul');\r\n    gameHelp.className = 'game-settings display-none';\r\n    this.gameBoard.appendChild(gameHelp);\r\n\r\n    this.fillHelp(gameHelp);\r\n\r\n    return gameHelp;\r\n  }\r\n\r\n  fillHelp(gameHelp) {\r\n    ['1. Сохранение игры - \"Save game\"', '2. Отключение звука - \"Sound on\"', '3. Решение компом -  \"Solve\"'].forEach((elementName) => {\r\n      const itemElement = document.createElement('li');\r\n      itemElement.innerHTML = elementName;\r\n      gameHelp.appendChild(itemElement);\r\n    });\r\n\r\n    const itemBack = document.createElement('li');\r\n    itemBack.innerHTML = 'Main menu';\r\n    itemBack.addEventListener('click', () => {\r\n      gameHelp.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(gameHelp, 'off');\r\n      this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'on');\r\n    });\r\n    gameHelp.appendChild(itemBack);\r\n  }\r\n\r\n  exchangeElements(empty, fill, flag = true) {\r\n    if (empty && fill) {\r\n      const clonedElement1 = empty.cloneNode(true);\r\n      const clonedElement2 = fill.cloneNode(true);\r\n\r\n      fill.style.left = clonedElement1.style.left;\r\n      fill.style.top = clonedElement1.style.top;\r\n\r\n      empty.style.left = clonedElement2.style.left;\r\n      empty.style.top = clonedElement2.style.top;\r\n\r\n      if (document.body.querySelector('.section-timemove') != null) {\r\n        this.timeMoves.changeMoves();\r\n        if (flag) {\r\n          if (fill.id !== this.displacementArr[this.displacementArr.length - 1]) {\r\n            this.displacementArr.push(fill.id);\r\n          } else {\r\n            this.displacementArr.pop();\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.gamePopUp.firstChild.children[2].innerHTML === 'Sound: on' && this.timeMoves.flagTime) {\r\n        (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setSoundKey)(5, 'square');\r\n      }\r\n\r\n      if (this.solutionCheck.solveFlag && this.solutionCheck.checkSolve(empty)) {\r\n        this.timeMoves.flagTime = false;\r\n        Array.from(this.gamePuzzle.children).forEach((element) => {\r\n          element.classList.add('opacity-none');\r\n        });\r\n        this.gamePuzzle.style.backgroundImage = `url('assets/images/box/${this.imageIndex}.jpg')`;\r\n        this.createWin();\r\n      }\r\n    }\r\n  }\r\n\r\n  createWin() {\r\n    const blackout = document.createElement('section');\r\n    blackout.classList.add('blackout');\r\n    document.body.appendChild(blackout);\r\n\r\n    const sectionWin = document.createElement('section');\r\n    sectionWin.classList.add('section-win');\r\n    if (window.innerWidth > window.innerHeight) {\r\n      sectionWin.style.width = `${window.innerHeight * 0.6}px`;\r\n      sectionWin.style.height = `${window.innerHeight * 0.6}px`;\r\n    } else {\r\n      sectionWin.style.width = `${window.innerWidth * 0.6}px`;\r\n      sectionWin.style.height = `${window.innerWidth * 0.6}px`;\r\n    }\r\n    sectionWin.style.left = `${(window.innerWidth - sectionWin.style.width.replace('px', '')) / 2}px`;\r\n    sectionWin.style.top = '0px';\r\n    document.body.appendChild(sectionWin);\r\n\r\n    const listWin = document.createElement('ul');\r\n    listWin.classList.add('section-ul');\r\n    sectionWin.appendChild(listWin);\r\n    listWin.style.width = `${+sectionWin.style.width.replace('px', '') * 0.9}px`;\r\n    listWin.style.height = `${+sectionWin.style.height.replace('px', '') * 0.265}px`;\r\n    listWin.style.fontSize = `${+listWin.style.height.replace('px', '') * 0.2}px`;\r\n    listWin.style.marginBottom = `${+listWin.style.height.replace('px', '') * 0.2}px`;\r\n\r\n    const messageWin = document.createElement('li');\r\n    messageWin.classList.add('message-win');\r\n    messageWin.innerHTML = `Ура! Вы решили головоломку за ${this.timeMoves.sectionTimeMoves.firstChild.innerHTML.slice(6)} и ${this.timeMoves.countMoves} ходов`;\r\n    listWin.appendChild(messageWin);\r\n\r\n    const enterName = document.createElement('li');\r\n    enterName.classList.add('enter-name');\r\n    if (localStorage.getItem('enterName') === null) {\r\n      localStorage.setItem('enterName', '[ Введите имя ]');\r\n    }\r\n    enterName.innerHTML = localStorage.getItem('enterName');\r\n    enterName.contentEditable = true;\r\n\r\n    enterName.addEventListener('click', () => {\r\n      enterName.innerHTML = '';\r\n    });\r\n    enterName.addEventListener('keypress', (e) => {\r\n      if (e.which === 13 || e.keyCode === 13) {\r\n        if (enterName.textContent === '') {\r\n          enterName.textContent = localStorage.getItem('enterName');\r\n        } else {\r\n          localStorage.setItem('enterName', e.target.innerText);\r\n        }\r\n        enterName.blur();\r\n      }\r\n    });\r\n    enterName.addEventListener('blur', (e) => {\r\n      if (enterName.textContent === '') {\r\n        enterName.textContent = localStorage.getItem('enterName');\r\n      } else {\r\n        localStorage.setItem('enterName', e.target.innerText);\r\n      }\r\n    });\r\n\r\n    listWin.appendChild(enterName);\r\n\r\n    const goBack = document.createElement('li');\r\n    goBack.classList.add('back');\r\n    goBack.innerHTML = 'Main menu';\r\n    listWin.appendChild(goBack);\r\n\r\n    goBack.addEventListener('click', () => {\r\n      this.gamePuzzle.style.backgroundImage = '';\r\n      this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'off');\r\n      this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'on');\r\n      this.gamePopUpButton.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUpButton, 'off');\r\n      this.timeMoves.sectionTimeMoves.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.timeMoves.sectionTimeMoves, 'off');\r\n      this.gamePopUpButton.innerHTML = 'Pause';\r\n      this.gamePopUp.firstChild.children[1].innerHTML = 'Save game';\r\n      this.updateScores();\r\n\r\n      this.displacementArr = new Array(0);\r\n      this.timeMoves.countMoves = 0;\r\n      this.timeMoves.countSeconds = 0;\r\n\r\n      document.body.removeChild(blackout);\r\n      document.body.removeChild(sectionWin);\r\n    });\r\n\r\n    blackout.addEventListener('click', () => {\r\n      this.gamePuzzle.style.backgroundImage = '';\r\n      this.gamePuzzle.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePuzzle, 'off');\r\n      this.gameMenu.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gameMenu, 'on');\r\n      this.gamePopUpButton.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.gamePopUpButton, 'off');\r\n      this.timeMoves.sectionTimeMoves.className = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.setDisplay)(this.timeMoves.sectionTimeMoves, 'off');\r\n      this.gamePopUpButton.innerHTML = 'Pause';\r\n      this.gamePopUp.firstChild.children[1].innerHTML = 'Save game';\r\n      this.updateScores();\r\n\r\n      this.displacementArr = new Array(0);\r\n      this.timeMoves.countMoves = 0;\r\n      this.timeMoves.countSeconds = 0;\r\n\r\n      document.body.removeChild(blackout);\r\n      document.body.removeChild(sectionWin);\r\n    });\r\n  }\r\n\r\n  resizeDisplay() {\r\n    this.setBoardSize();\r\n    this.setFontSize();\r\n    if (this.gamePuzzle.className.indexOf('display-none') === -1) {\r\n      const lengthLine = this.gameSettings.children[1].children[0].selectedIndex + 3;\r\n      const puzzleWidth = this.gameBoard.clientWidth / lengthLine;\r\n      const puzzleHeight = this.gameBoard.clientHeight / lengthLine;\r\n\r\n      const emptyElement = document.querySelector('.empty-mosaic');\r\n      const diffLeft = +emptyElement.style.width.replace('px', '') / puzzleWidth;\r\n      const diffTop = +emptyElement.style.height.replace('px', '') / puzzleHeight;\r\n\r\n      Array.from(this.gamePuzzle.children).forEach((mosaic) => {\r\n        mosaic.style.width = `${puzzleWidth}px`;\r\n        mosaic.style.height = `${puzzleHeight}px`;\r\n\r\n        mosaic.style.top = `${+mosaic.style.top.replace('px', '') / diffTop}px`;\r\n        mosaic.style.left = `${+mosaic.style.left.replace('px', '') / diffLeft}px`;\r\n      });\r\n\r\n      this.setBgImage(lengthLine, this.imageIndex);\r\n    }\r\n  }\r\n\r\n  reverseSolve(i) {\r\n    setTimeout(() => {\r\n      if (this.displacementArr.length && this.gamePopUpButton.innerHTML === 'Pause') {\r\n        this.exchangeElements(document.querySelector('.empty-mosaic'), this.gamePuzzle.querySelector(`#${this.displacementArr[i]}`), false);\r\n        this.displacementArr.pop();\r\n        this.reverseSolve(this.displacementArr.length - 1);\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  setBgImage(lengthLine, imageIndex) {\r\n    Array.from(this.gamePuzzle.children).forEach((element, index) => {\r\n      if (index !== Array.from(this.gamePuzzle.children).length - 1) {\r\n        const image = `url('assets/images/box/${imageIndex}.jpg')`;\r\n        element.style.backgroundImage = image;\r\n        element.style.backgroundRepeat = 'no-repeat';\r\n        element.style.backgroundSize = `${this.gameBoard.clientWidth}px ${this.gameBoard.clientHeight}px`;\r\n\r\n        const indexHeight = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.divInt)(index, lengthLine);\r\n        let indexWidth = index;\r\n        while (indexWidth - (lengthLine - 1) > 0) {\r\n          indexWidth -= lengthLine;\r\n        }\r\n\r\n        element.style.backgroundPositionX = `${+element.style.width.replace('px', '') * -indexWidth}px`;\r\n        element.style.backgroundPositionY = `${+element.style.height.replace('px', '') * -indexHeight}px`;\r\n      }\r\n    });\r\n  }\r\n\r\n  shufflePuzzle(lengthLine) {\r\n    this.solutionCheck.solveFlag = false;\r\n\r\n    for (let i = 0; i < 10 * ((lengthLine - 2) ** 2); i += 1) {\r\n      const emptyElement = document.querySelector('.empty-mosaic');\r\n      const countArr = new Array(0);\r\n      const lengthDisplace = this.displacementArr.length;\r\n\r\n      Array.from(this.gamePuzzle.children).forEach((element) => {\r\n        if ((0,_etc__WEBPACK_IMPORTED_MODULE_0__.searchDiff)(emptyElement, element) === 1) {\r\n          if ((lengthDisplace !== 0 && element !== this.gamePuzzle.querySelector(`#${this.displacementArr[lengthDisplace - 1]}`)) || lengthDisplace === 0) {\r\n            countArr.push(element);\r\n          }\r\n        }\r\n      });\r\n\r\n      const movableElement = countArr[(0,_etc__WEBPACK_IMPORTED_MODULE_0__.getRandomInt)(countArr.length)];\r\n      this.exchangeElements(emptyElement, movableElement);\r\n    }\r\n\r\n    this.solutionCheck.solveFlag = true;\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Puzzle);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLXdlYnBhY2svLi9hc3NldHMvanMvY2xhc3NQdXp6bGUuanM/OTk3MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsQ0FFZTtBQUMwQjtBQUNROztBQUVqRDtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFhO0FBQzFDLHlCQUF5QixvREFBUztBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLHlCQUF5QjtBQUMvRCx1Q0FBdUMseUJBQXlCO0FBQ2hFLHVEQUF1RCx5QkFBeUI7QUFDaEYsS0FBSztBQUNMLHNDQUFzQyx3QkFBd0I7QUFDOUQsdUNBQXVDLHdCQUF3QjtBQUMvRCx1REFBdUQsd0JBQXdCO0FBQy9FO0FBQ0EsaUVBQWlFLHNEQUFzRDtBQUN2SCxnRUFBZ0UsaUZBQWlGO0FBQ2pKO0FBQ0EsK0RBQStELDhFQUE4RTtBQUM3SSwwQ0FBMEMscURBQXFEO0FBQy9GLDJDQUEyQyxzREFBc0Q7QUFDakcsMENBQTBDLHlEQUF5RDtBQUNuRzs7QUFFQTtBQUNBLHVDQUF1QyxxREFBcUQ7QUFDNUYsc0NBQXNDLHNEQUFzRDtBQUM1Rix3Q0FBd0Msc0RBQXNEO0FBQzlGLGtFQUFrRSxxREFBcUQ7QUFDdkgsd0RBQXdELHNEQUFzRDtBQUM5Ryw2Q0FBNkMsc0RBQXNEO0FBQ25HOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQyxnREFBVTtBQUM3QyxvQ0FBb0MsZ0RBQVU7QUFDOUM7QUFDQTtBQUNBLE9BQU87QUFDUCxtQ0FBbUMsZ0RBQVU7QUFDN0Msb0NBQW9DLGdEQUFVO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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REFBdUQ7QUFDdEc7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUIsa0NBQWtDO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVksZ0RBQVU7QUFDdEIscUZBQXFGLHlDQUF5QztBQUM5SDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQLHNDQUFzQyxrREFBWTtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxNQUFNLEVBQUMiLCJmaWxlIjoiLi9hc3NldHMvanMvY2xhc3NQdXp6bGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGRpdkludCwgZ2V0UmFuZG9tSW50LCBzZWFyY2hEaWZmLCBzZXREaXNwbGF5LCBzZXRTb3VuZEtleSwgdGltZUNvbnZlcnNpb24sXHJcbn0gZnJvbSAnLi9ldGMnO1xyXG5pbXBvcnQgVGltZU1vdmVzIGZyb20gJy4vY2xhc3NUaW1lTW92ZXMnO1xyXG5pbXBvcnQgU29sdXRpb25DaGVjayBmcm9tICcuL2NsYXNzU29sdXRpb25DaGVjayc7XHJcblxyXG5jbGFzcyBQdXp6bGUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zb2x1dGlvbkNoZWNrID0gbmV3IFNvbHV0aW9uQ2hlY2soKTtcclxuICAgIHRoaXMudGltZU1vdmVzID0gbmV3IFRpbWVNb3ZlcygpO1xyXG4gICAgdGhpcy5nYW1lQm9hcmQgPSB0aGlzLmNyZWF0ZUJvYXJkKCk7XHJcbiAgICB0aGlzLmdhbWVQb3BVcEJ1dHRvbiA9IHRoaXMuY3JlYXRlUG9wVXBCdXR0b24oKTtcclxuICAgIHRoaXMuc2V0Qm9hcmRTaXplKCk7XHJcblxyXG4gICAgdGhpcy5nYW1lTWVudSA9IHRoaXMuY3JlYXRlTWVudSgpO1xyXG4gICAgdGhpcy5nYW1lUHV6emxlID0gdGhpcy5jcmVhdGVQdXp6bGUoKTtcclxuICAgIHRoaXMuZ2FtZUxvYWQgPSB0aGlzLmNyZWF0ZUxvYWQoKTtcclxuICAgIHRoaXMuZ2FtZVNjb3JlcyA9IHRoaXMuY3JlYXRlU2NvcmVzKCk7XHJcbiAgICB0aGlzLmdhbWVTZXR0aW5ncyA9IHRoaXMuY3JlYXRlU2V0dGluZ3MoKTtcclxuICAgIHRoaXMuZ2FtZUhlbHAgPSB0aGlzLmNyZWF0ZUhlbHAoKTtcclxuICAgIHRoaXMuZ2FtZVBvcFVwID0gdGhpcy5jcmVhdGVQb3BVcCgpO1xyXG4gICAgdGhpcy5zZXRGb250U2l6ZSgpO1xyXG5cclxuICAgIHRoaXMuZGlzcGxhY2VtZW50QXJyID0gbmV3IEFycmF5KDApO1xyXG4gICAgdGhpcy5pbWFnZUluZGV4ID0gMDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUJvYXJkKCkge1xyXG4gICAgY29uc3QgZ2FtZUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xyXG4gICAgZ2FtZUJvYXJkLmNsYXNzTmFtZSA9ICdnYW1lLWJvYXJkJztcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2FtZUJvYXJkKTtcclxuXHJcbiAgICByZXR1cm4gZ2FtZUJvYXJkO1xyXG4gIH1cclxuXHJcbiAgc2V0Qm9hcmRTaXplKCkge1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgIHRoaXMuZ2FtZUJvYXJkLnN0eWxlLndpZHRoID0gYCR7d2luZG93LmlubmVySGVpZ2h0ICogMC42fXB4YDtcclxuICAgICAgdGhpcy5nYW1lQm9hcmQuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0ICogMC42fXB4YDtcclxuICAgICAgdGhpcy50aW1lTW92ZXMuc2VjdGlvblRpbWVNb3Zlcy5zdHlsZS53aWR0aCA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAqIDAuNn1weGA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdhbWVCb2FyZC5zdHlsZS53aWR0aCA9IGAke3dpbmRvdy5pbm5lcldpZHRoICogMC42fXB4YDtcclxuICAgICAgdGhpcy5nYW1lQm9hcmQuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVyV2lkdGggKiAwLjZ9cHhgO1xyXG4gICAgICB0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLnN0eWxlLndpZHRoID0gYCR7d2luZG93LmlubmVyV2lkdGggKiAwLjZ9cHhgO1xyXG4gICAgfVxyXG4gICAgdGhpcy50aW1lTW92ZXMuc2VjdGlvblRpbWVNb3Zlcy5maXJzdENoaWxkLnN0eWxlLmhlaWdodCA9IGAkeyt0aGlzLmdhbWVCb2FyZC5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykgKiAwLjA5fXB4YDtcclxuICAgIHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMuZmlyc3RDaGlsZC5zdHlsZS53aWR0aCA9IGAkeyt0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpICogMi41fXB4YDtcclxuICAgIHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMubGFzdENoaWxkLnN0eWxlLmhlaWdodCA9IHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQ7XHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLmxhc3RDaGlsZC5zdHlsZS53aWR0aCA9IGAkeyt0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLmxhc3RDaGlsZC5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykgKiA0fXB4YDtcclxuICAgIHRoaXMuZ2FtZUJvYXJkLnN0eWxlLmJvcmRlcldpZHRoID0gYCR7K3RoaXMuZ2FtZUJvYXJkLnN0eWxlLndpZHRoLnJlcGxhY2UoJ3B4JywgJycpICogMC4wNn1weGA7XHJcbiAgICB0aGlzLmdhbWVQb3BVcEJ1dHRvbi5zdHlsZS5oZWlnaHQgPSBgJHsrdGhpcy5nYW1lQm9hcmQuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpICogMC4wOX1weGA7XHJcbiAgICB0aGlzLmdhbWVQb3BVcEJ1dHRvbi5zdHlsZS53aWR0aCA9IGAkeyt0aGlzLmdhbWVQb3BVcEJ1dHRvbi5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykgKiAzfXB4YDtcclxuICB9XHJcblxyXG4gIHNldEZvbnRTaXplKCkge1xyXG4gICAgdGhpcy5nYW1lQm9hcmQuc3R5bGUuZm9udFNpemUgPSBgJHsrdGhpcy5nYW1lQm9hcmQuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpICogMC4xfXB4YDtcclxuICAgIHRoaXMuZ2FtZUxvYWQuc3R5bGUuZm9udFNpemUgPSBgJHsrdGhpcy5nYW1lQm9hcmQuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpICogMC4wN31weGA7XHJcbiAgICB0aGlzLmdhbWVTY29yZXMuc3R5bGUuZm9udFNpemUgPSBgJHsrdGhpcy5nYW1lQm9hcmQuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpICogMC4wN31weGA7XHJcbiAgICB0aGlzLmdhbWVTZXR0aW5ncy5jaGlsZHJlblsxXS5jaGlsZHJlblswXS5zdHlsZS5mb250U2l6ZSA9IGAkeyt0aGlzLmdhbWVCb2FyZC5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykgKiAwLjF9cHhgO1xyXG4gICAgdGhpcy50aW1lTW92ZXMuc2VjdGlvblRpbWVNb3Zlcy5zdHlsZS5mb250U2l6ZSA9IGAkeyt0aGlzLmdhbWVCb2FyZC5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykgKiAwLjA3fXB4YDtcclxuICAgIHRoaXMuZ2FtZVBvcFVwQnV0dG9uLnN0eWxlLmZvbnRTaXplID0gYCR7K3RoaXMuZ2FtZUJvYXJkLnN0eWxlLmhlaWdodC5yZXBsYWNlKCdweCcsICcnKSAqIDAuMDd9cHhgO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlUG9wVXBCdXR0b24oKSB7XHJcbiAgICBjb25zdCBnYW1lUG9wVXBCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGdhbWVQb3BVcEJ1dHRvbi5jbGFzc05hbWUgPSAnZ2FtZS1wb3B1cC1idXR0b24gZGlzcGxheS1ub25lJztcclxuICAgIGdhbWVQb3BVcEJ1dHRvbi5pbm5lckhUTUwgPSAnUGF1c2UnO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnYW1lUG9wVXBCdXR0b24pO1xyXG5cclxuICAgIGdhbWVQb3BVcEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgaWYgKGdhbWVQb3BVcEJ1dHRvbi5pbm5lckhUTUwgPT09ICdQYXVzZScpIHtcclxuICAgICAgICB0aGlzLmdhbWVQb3BVcC5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVBvcFVwLCAnb24nKTtcclxuICAgICAgICB0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVQdXp6bGUsICdvZmYnKTtcclxuICAgICAgICBnYW1lUG9wVXBCdXR0b24uaW5uZXJIVE1MID0gJ1Jlc3VtZSc7XHJcbiAgICAgICAgdGhpcy50aW1lTW92ZXMuZmxhZ1RpbWUgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmdhbWVQb3BVcC5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVBvcFVwLCAnb2ZmJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lUHV6emxlLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lUHV6emxlLCAnb24nKTtcclxuICAgICAgICBnYW1lUG9wVXBCdXR0b24uaW5uZXJIVE1MID0gJ1BhdXNlJztcclxuICAgICAgICB0aGlzLnRpbWVNb3Zlcy5mbGFnVGltZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50aW1lTW92ZXMuc3RvcHdhdGNoKHRoaXMudGltZU1vdmVzLmNvdW50U2Vjb25kcyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBnYW1lUG9wVXBCdXR0b247XHJcbiAgfVxyXG5cclxuICBjcmVhdGVQb3BVcCgpIHtcclxuICAgIGNvbnN0IGdhbWVQb3BVcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcclxuICAgIGdhbWVQb3BVcC5jbGFzc05hbWUgPSAnZ2FtZS1wb3B1cCBkaXNwbGF5LW5vbmUnO1xyXG4gICAgdGhpcy5nYW1lQm9hcmQuYXBwZW5kQ2hpbGQoZ2FtZVBvcFVwKTtcclxuICAgIHRoaXMuZmlsbFBvcFVwKGdhbWVQb3BVcCk7XHJcbiAgICByZXR1cm4gZ2FtZVBvcFVwO1xyXG4gIH1cclxuXHJcbiAgZmlsbFBvcFVwKGdhbWVQb3BVcCkge1xyXG4gICAgY29uc3QgZ2FtZVBvcFVwTWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICBnYW1lUG9wVXAuYXBwZW5kQ2hpbGQoZ2FtZVBvcFVwTWVudSk7XHJcbiAgICBbJ1Jlc3VtZScsICdTYXZlIGdhbWUnLCAnU291bmQ6IG9uJywgJ1NvbHZlJywgJ01haW4gbWVudSddLmZvckVhY2goKGl0ZW1NZW51TmFtZSwgaW5kZXhNZW51KSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1NZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgaXRlbU1lbnUuaW5uZXJIVE1MID0gaXRlbU1lbnVOYW1lO1xyXG4gICAgICBzd2l0Y2ggKGluZGV4TWVudSkge1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgaXRlbU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmdhbWVQb3BVcC5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVBvcFVwLCAnb2ZmJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVQdXp6bGUsICdvbicpO1xyXG4gICAgICAgICAgdGhpcy5nYW1lUG9wVXBCdXR0b24uaW5uZXJIVE1MID0gJ1BhdXNlJztcclxuICAgICAgICAgIHRoaXMudGltZU1vdmVzLmZsYWdUaW1lID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMudGltZU1vdmVzLnN0b3B3YXRjaCh0aGlzLnRpbWVNb3Zlcy5jb3VudFNlY29uZHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgaXRlbU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoaXRlbU1lbnUuaW5uZXJIVE1MID09PSAnU2F2ZSBnYW1lJykge1xyXG4gICAgICAgICAgICBpdGVtTWVudS5pbm5lckhUTUwgPSAnR2FtZSBzYXZlZCc7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVHYW1lID0ge307XHJcbiAgICAgICAgICAgIHNhdmVHYW1lLmNvdW50U2Vjb25kcyA9IHRoaXMudGltZU1vdmVzLmNvdW50U2Vjb25kcztcclxuICAgICAgICAgICAgc2F2ZUdhbWUuY291bnRNb3ZlcyA9IHRoaXMudGltZU1vdmVzLmNvdW50TW92ZXM7XHJcbiAgICAgICAgICAgIHNhdmVHYW1lLmltYWdlSW5kZXggPSB0aGlzLmltYWdlSW5kZXg7XHJcbiAgICAgICAgICAgIHNhdmVHYW1lLmRpc3BsYWNlbWVudEFyciA9IHRoaXMuZGlzcGxhY2VtZW50QXJyO1xyXG4gICAgICAgICAgICBzYXZlR2FtZS5jdXJyZW50U29sdmUgPSBuZXcgQXJyYXkoMCk7XHJcbiAgICAgICAgICAgIEFycmF5LmZyb20odGhpcy5nYW1lUHV6emxlLmNoaWxkcmVuKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXhUb3AgPSArZWxlbWVudC5zdHlsZS50b3AucmVwbGFjZSgncHgnLCAnJykgLyArZWxlbWVudC5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXhMZWZ0ID0gK2VsZW1lbnQuc3R5bGUubGVmdC5yZXBsYWNlKCdweCcsICcnKSAvICtlbGVtZW50LnN0eWxlLndpZHRoLnJlcGxhY2UoJ3B4JywgJycpO1xyXG4gICAgICAgICAgICAgIHNhdmVHYW1lLmN1cnJlbnRTb2x2ZS5wdXNoKFtpbmRleFRvcCwgaW5kZXhMZWZ0XSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYXJyYXlHYW1lcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcnJheUdhbWVzJykgIT09IG51bGwgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcnJheUdhbWVzJykpIDogbmV3IEFycmF5KDApO1xyXG4gICAgICAgICAgICBhcnJheUdhbWVzLnB1c2goc2F2ZUdhbWUpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXJyYXlHYW1lcycsIEpTT04uc3RyaW5naWZ5KGFycmF5R2FtZXMpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIGl0ZW1NZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGl0ZW1NZW51LmlubmVySFRNTCA9PT0gJ1NvdW5kOiBvbicpIHtcclxuICAgICAgICAgICAgaXRlbU1lbnUuaW5uZXJIVE1MID0gJ1NvdW5kOiBvZmYnO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbU1lbnUuaW5uZXJIVE1MID0gJ1NvdW5kOiBvbic7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgICBpdGVtTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuZ2FtZVBvcFVwLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lUG9wVXAsICdvZmYnKTtcclxuICAgICAgICAgIHRoaXMuZ2FtZVB1enpsZS5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVB1enpsZSwgJ29uJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVQb3BVcEJ1dHRvbi5pbm5lckhUTUwgPSAnUGF1c2UnO1xyXG4gICAgICAgICAgdGhpcy50aW1lTW92ZXMuZmxhZ1RpbWUgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy50aW1lTW92ZXMuc3RvcHdhdGNoKHRoaXMudGltZU1vdmVzLmNvdW50U2Vjb25kcyk7XHJcblxyXG4gICAgICAgICAgdGhpcy5yZXZlcnNlU29sdmUodGhpcy5kaXNwbGFjZW1lbnRBcnIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaXRlbU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmdhbWVNZW51LmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lTWVudSwgJ29uJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVQb3BVcC5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVBvcFVwLCAnb2ZmJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVQb3BVcEJ1dHRvbi5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVBvcFVwQnV0dG9uLCAnb2ZmJyk7XHJcbiAgICAgICAgICB0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy50aW1lTW92ZXMuc2VjdGlvblRpbWVNb3ZlcywgJ29mZicpO1xyXG4gICAgICAgICAgdGhpcy5nYW1lUG9wVXBCdXR0b24uaW5uZXJIVE1MID0gJ1BhdXNlJztcclxuICAgICAgICAgIHRoaXMuZ2FtZVBvcFVwLmZpcnN0Q2hpbGQuY2hpbGRyZW5bMV0uaW5uZXJIVE1MID0gJ1NhdmUgZ2FtZSc7XHJcblxyXG4gICAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRBcnIgPSBuZXcgQXJyYXkoMCk7XHJcbiAgICAgICAgICB0aGlzLnRpbWVNb3Zlcy5jb3VudE1vdmVzID0gMDtcclxuICAgICAgICAgIHRoaXMudGltZU1vdmVzLmNvdW50U2Vjb25kcyA9IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgZ2FtZVBvcFVwTWVudS5hcHBlbmRDaGlsZChpdGVtTWVudSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZU1lbnUoKSB7XHJcbiAgICBjb25zdCBnYW1lTWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICBnYW1lTWVudS5jbGFzc05hbWUgPSAnZ2FtZS1tZW51JztcclxuICAgIHRoaXMuZ2FtZUJvYXJkLmFwcGVuZENoaWxkKGdhbWVNZW51KTtcclxuICAgIHRoaXMuZmlsbE1lbnUoZ2FtZU1lbnUpO1xyXG4gICAgcmV0dXJuIGdhbWVNZW51O1xyXG4gIH1cclxuXHJcbiAgZmlsbE1lbnUoZ2FtZU1lbnUpIHtcclxuICAgIFsnTmV3IGdhbWUnLCAnU2F2ZWQgZ2FtZXMnLCAnQmVzdCBzY29yZXMnLCAnU2V0dGluZ3MnLCAnSGVscCddLmZvckVhY2goKGl0ZW1NZW51TmFtZSwgaW5kZXhNZW51KSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1NZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgaXRlbU1lbnUuaW5uZXJIVE1MID0gaXRlbU1lbnVOYW1lO1xyXG4gICAgICBzd2l0Y2ggKGluZGV4TWVudSkge1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgaXRlbU1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmdhbWVNZW51LmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lTWVudSwgJ29mZicpO1xyXG4gICAgICAgICAgdGhpcy5nYW1lUHV6emxlLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lUHV6emxlLCAnb24nKTtcclxuICAgICAgICAgIHRoaXMuZ2FtZVBvcFVwQnV0dG9uLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lUG9wVXBCdXR0b24sICdvbicpO1xyXG4gICAgICAgICAgdGhpcy5jcmVhdGVHYW1lKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICBpdGVtTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuZ2FtZU1lbnUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVNZW51LCAnb2ZmJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVMb2FkLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lTG9hZCwgJ29uJyk7XHJcbiAgICAgICAgICB0aGlzLmZpbGxMb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICBpdGVtTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuZ2FtZU1lbnUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVNZW51LCAnb2ZmJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVTY29yZXMuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVTY29yZXMsICdvbicpO1xyXG4gICAgICAgICAgdGhpcy5maWxsU2NvcmVzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgICBpdGVtTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuZ2FtZU1lbnUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVNZW51LCAnb2ZmJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVTZXR0aW5ncy5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVNldHRpbmdzLCAnb24nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBpdGVtTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuZ2FtZU1lbnUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVNZW51LCAnb2ZmJyk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVIZWxwLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lSGVscCwgJ29uJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgZ2FtZU1lbnUuYXBwZW5kQ2hpbGQoaXRlbU1lbnUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVQdXp6bGUoKSB7XHJcbiAgICBjb25zdCBnYW1lUHV6emxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIGdhbWVQdXp6bGUuY2xhc3NOYW1lID0gJ2dhbWUtcHV6emxlIGRpc3BsYXktbm9uZSc7XHJcbiAgICB0aGlzLmdhbWVCb2FyZC5hcHBlbmRDaGlsZChnYW1lUHV6emxlKTtcclxuXHJcbiAgICBsZXQgcHJldkFjdGl2ZUVsZW1lbnQgPSBudWxsO1xyXG4gICAgZ2FtZVB1enpsZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCBlbXB0eUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1wdHktbW9zYWljJyk7XHJcbiAgICAgIGNvbnN0IGRyYWdJbWdFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcbiAgICAgIGVsZW1lbnQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShkcmFnSW1nRWwsIDAsIDApO1xyXG4gICAgICBpZiAoc2VhcmNoRGlmZihlbXB0eUVsZW1lbnQsIGVsZW1lbnQudGFyZ2V0KSA9PT0gMSkge1xyXG4gICAgICAgIGVsZW1lbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgaWYgKHByZXZBY3RpdmVFbGVtZW50ICE9PSBlbGVtZW50LnRhcmdldCkge1xyXG4gICAgICAgICAgaWYgKHByZXZBY3RpdmVFbGVtZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldmVsID0gcHJldkFjdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHByZXZlbC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcHJldkFjdGl2ZUVsZW1lbnQgPSBlbGVtZW50LnRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGdhbWVQdXp6bGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsZW1lbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBnYW1lUHV6emxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsZW1lbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGdhbWVQdXp6bGUucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJyk7XHJcbiAgICAgIGNvbnN0IGVtcHR5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbXB0eS1tb3NhaWMnKTtcclxuXHJcbiAgICAgIGlmIChlbXB0eUVsZW1lbnQgPT09IGVsZW1lbnQudGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5leGNoYW5nZUVsZW1lbnRzKGFjdGl2ZUVsZW1lbnQsIGVsZW1lbnQudGFyZ2V0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGdhbWVQdXp6bGU7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVHYW1lKCkge1xyXG4gICAgY29uc3QgbGVuZ3RoTGluZSA9IHRoaXMuZ2FtZVNldHRpbmdzLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLnNlbGVjdGVkSW5kZXggKyAzO1xyXG4gICAgY29uc3QgbnVtYmVyT2ZNb3NhaWNzID0gbGVuZ3RoTGluZSAqKiAyO1xyXG4gICAgY29uc3QgcHV6emxlV2lkdGggPSAodGhpcy5nYW1lQm9hcmQuY2xpZW50V2lkdGggLyBsZW5ndGhMaW5lKS50b0ZpeGVkKDMpO1xyXG4gICAgY29uc3QgcHV6emxlSGVpZ2h0ID0gKHRoaXMuZ2FtZUJvYXJkLmNsaWVudEhlaWdodCAvIGxlbmd0aExpbmUpLnRvRml4ZWQoMyk7XHJcbiAgICB0aGlzLmRpc3BsYWNlbWVudEFyciA9IG5ldyBBcnJheSgwKTtcclxuXHJcbiAgICB3aGlsZSAodGhpcy5nYW1lUHV6emxlLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgdGhpcy5nYW1lUHV6emxlLnJlbW92ZUNoaWxkKHRoaXMuZ2FtZVB1enpsZS5maXJzdENoaWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5nYW1lUHV6emxlLmNsYXNzTmFtZS5pbmRleE9mKCdnYW1lLWZpZWxkLScpICE9PSAtMSkge1xyXG4gICAgICB0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lID0gdGhpcy5nYW1lUHV6emxlLmNsYXNzTmFtZS5yZXBsYWNlKC9bMS05XS8sIGAke2xlbmd0aExpbmV9YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdhbWVQdXp6bGUuY2xhc3NMaXN0LmFkZChgZ2FtZS1maWVsZC0ke2xlbmd0aExpbmV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZk1vc2FpY3M7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBtb3NhaWMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICBtb3NhaWMuaWQgPSBgbSR7aX1gO1xyXG4gICAgICBtb3NhaWMuY2xhc3NMaXN0LmFkZCgnbW9zYWljJyk7XHJcbiAgICAgIG1vc2FpYy5kcmFnZ2FibGUgPSBpICE9PSBudW1iZXJPZk1vc2FpY3MgLSAxO1xyXG4gICAgICAvLyBtb3NhaWMuaW5uZXJIVE1MID0gaSA9PT0gbnVtYmVyT2ZNb3NhaWNzIC0gMSA/ICcnIDogaSArIDE7XHJcblxyXG4gICAgICBtb3NhaWMuc3R5bGUud2lkdGggPSBgJHtwdXp6bGVXaWR0aH1weGA7XHJcbiAgICAgIG1vc2FpYy5zdHlsZS5oZWlnaHQgPSBgJHtwdXp6bGVIZWlnaHR9cHhgO1xyXG5cclxuICAgICAgY29uc3QgaW5kZXhIZWlnaHQgPSBkaXZJbnQoaSwgbGVuZ3RoTGluZSk7XHJcbiAgICAgIGxldCBpbmRleFdpZHRoID0gaTtcclxuICAgICAgd2hpbGUgKGluZGV4V2lkdGggLSAobGVuZ3RoTGluZSAtIDEpID4gMCkge1xyXG4gICAgICAgIGluZGV4V2lkdGggLT0gbGVuZ3RoTGluZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbW9zYWljLnN0eWxlLnRvcCA9IGAke3B1enpsZUhlaWdodCAqIGluZGV4SGVpZ2h0fXB4YDtcclxuICAgICAgbW9zYWljLnN0eWxlLmxlZnQgPSBgJHtwdXp6bGVXaWR0aCAqIGluZGV4V2lkdGh9cHhgO1xyXG5cclxuICAgICAgaWYgKGkgPT09IG51bWJlck9mTW9zYWljcyAtIDEpIHtcclxuICAgICAgICBtb3NhaWMuY2xhc3NMaXN0LmFkZCgnZW1wdHktbW9zYWljJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9zYWljLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZW1wdHlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVtcHR5LW1vc2FpYycpO1xyXG4gICAgICAgICAgaWYgKHNlYXJjaERpZmYoZW1wdHlFbGVtZW50LCBtb3NhaWMpID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXhjaGFuZ2VFbGVtZW50cyhlbXB0eUVsZW1lbnQsIG1vc2FpYyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZ2FtZVB1enpsZS5hcHBlbmRDaGlsZChtb3NhaWMpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW1hZ2VJbmRleCA9IGdldFJhbmRvbUludCgxNDkpO1xyXG4gICAgdGhpcy5zZXRCZ0ltYWdlKGxlbmd0aExpbmUsIHRoaXMuaW1hZ2VJbmRleCk7XHJcblxyXG4gICAgdGhpcy5zaHVmZmxlUHV6emxlKGxlbmd0aExpbmUpO1xyXG5cclxuICAgIHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLCAnb24nKTtcclxuICAgIHRoaXMudGltZU1vdmVzLmNvdW50U2Vjb25kcyA9IDA7XHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5mbGFnVGltZSA9IHRydWU7XHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5zdG9wd2F0Y2godGhpcy50aW1lTW92ZXMuY291bnRTZWNvbmRzKTtcclxuXHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5jb3VudE1vdmVzID0gMDtcclxuICAgIHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMubGFzdENoaWxkLmlubmVySFRNTCA9IGBNb3Zlczoke3RoaXMudGltZU1vdmVzLmNvdW50TW92ZXN9YDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUxvYWQoKSB7XHJcbiAgICBjb25zdCBnYW1lTG9hZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICBnYW1lTG9hZC5jbGFzc05hbWUgPSAnZ2FtZS1sb2FkIGRpc3BsYXktbm9uZSc7XHJcbiAgICB0aGlzLmdhbWVCb2FyZC5hcHBlbmRDaGlsZChnYW1lTG9hZCk7XHJcblxyXG4gICAgcmV0dXJuIGdhbWVMb2FkO1xyXG4gIH1cclxuXHJcbiAgZmlsbExvYWQoKSB7XHJcbiAgICB3aGlsZSAodGhpcy5nYW1lTG9hZC5maXJzdENoaWxkKSB7XHJcbiAgICAgIHRoaXMuZ2FtZUxvYWQucmVtb3ZlQ2hpbGQodGhpcy5nYW1lTG9hZC5maXJzdENoaWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhcnJheUdhbWVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FycmF5R2FtZXMnKSAhPSBudWxsID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXJyYXlHYW1lcycpKSA6IG5ldyBBcnJheSgwKTtcclxuICAgIGFycmF5R2FtZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCBpdGVtTG9hZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgIGl0ZW1Mb2FkLmlubmVySFRNTCA9IGBTZWM6ICR7ZWxlbWVudC5jb3VudFNlY29uZHN9IE1vdmVzOiAke2VsZW1lbnQuY291bnRNb3Zlc31gO1xyXG4gICAgICB0aGlzLmdhbWVMb2FkLmFwcGVuZENoaWxkKGl0ZW1Mb2FkKTtcclxuXHJcbiAgICAgIGl0ZW1Mb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9hZEdhbWUoZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5nYW1lTG9hZC5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZUxvYWQsICdvZmYnKTtcclxuICAgICAgICB0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVQdXp6bGUsICdvbicpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVBvcFVwQnV0dG9uLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lUG9wVXBCdXR0b24sICdvbicpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGFycmF5R2FtZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnN0IGl0ZW1JbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgaXRlbUluZm8uaW5uZXJIVE1MID0gJ9Ch0L7RhdGA0LDQvdC10L3QvdGL0YUg0LjQs9GAINC10YnQtSDQvdC10YInO1xyXG4gICAgICB0aGlzLmdhbWVMb2FkLmFwcGVuZENoaWxkKGl0ZW1JbmZvKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGl0ZW1CYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIGl0ZW1CYWNrLmlubmVySFRNTCA9ICdNYWluIG1lbnUnO1xyXG4gICAgaXRlbUJhY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2FtZUxvYWQuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVMb2FkLCAnb2ZmJyk7XHJcbiAgICAgIHRoaXMuZ2FtZU1lbnUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVNZW51LCAnb24nKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5nYW1lTG9hZC5hcHBlbmRDaGlsZChpdGVtQmFjayk7XHJcbiAgfVxyXG5cclxuICBsb2FkR2FtZShsb2FkR2FtZU9iaikge1xyXG4gICAgY29uc3QgY3VycmVudEdhbWUgPSBsb2FkR2FtZU9iai5jdXJyZW50U29sdmU7XHJcbiAgICBjb25zdCBsZW5ndGhMaW5lID0gY3VycmVudEdhbWUubGVuZ3RoICoqIDAuNTtcclxuICAgIGNvbnN0IG51bWJlck9mTW9zYWljcyA9IGxlbmd0aExpbmUgKiogMjtcclxuICAgIGNvbnN0IHB1enpsZVdpZHRoID0gKHRoaXMuZ2FtZUJvYXJkLmNsaWVudFdpZHRoIC8gbGVuZ3RoTGluZSkudG9GaXhlZCgzKTtcclxuICAgIGNvbnN0IHB1enpsZUhlaWdodCA9ICh0aGlzLmdhbWVCb2FyZC5jbGllbnRIZWlnaHQgLyBsZW5ndGhMaW5lKS50b0ZpeGVkKDMpO1xyXG5cclxuICAgIHdoaWxlICh0aGlzLmdhbWVQdXp6bGUuZmlyc3RDaGlsZCkge1xyXG4gICAgICB0aGlzLmdhbWVQdXp6bGUucmVtb3ZlQ2hpbGQodGhpcy5nYW1lUHV6emxlLmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lLmluZGV4T2YoJ2dhbWUtZmllbGQtJykgIT09IC0xKSB7XHJcbiAgICAgIHRoaXMuZ2FtZVB1enpsZS5jbGFzc05hbWUgPSB0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lLnJlcGxhY2UoL1sxLTldLywgYCR7bGVuZ3RoTGluZX1gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZ2FtZVB1enpsZS5jbGFzc0xpc3QuYWRkKGBnYW1lLWZpZWxkLSR7bGVuZ3RoTGluZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjdXJyZW50R2FtZS5mb3JFYWNoKChhcnJheVBvcywgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3QgbW9zYWljID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgbW9zYWljLmlkID0gYG0ke2luZGV4fWA7XHJcbiAgICAgIG1vc2FpYy5jbGFzc0xpc3QuYWRkKCdtb3NhaWMnKTtcclxuICAgICAgbW9zYWljLmRyYWdnYWJsZSA9IGluZGV4ICE9PSBudW1iZXJPZk1vc2FpY3MgLSAxO1xyXG4gICAgICAvLyBtb3NhaWMuaW5uZXJIVE1MID0gaW5kZXggPT09IG51bWJlck9mTW9zYWljcyAtIDEgPyAnJyA6IGluZGV4ICsgMTtcclxuXHJcbiAgICAgIG1vc2FpYy5zdHlsZS53aWR0aCA9IGAke3B1enpsZVdpZHRofXB4YDtcclxuICAgICAgbW9zYWljLnN0eWxlLmhlaWdodCA9IGAke3B1enpsZUhlaWdodH1weGA7XHJcblxyXG4gICAgICBjb25zdCBpbmRleEhlaWdodCA9IGFycmF5UG9zWzBdO1xyXG4gICAgICBjb25zdCBpbmRleFdpZHRoID0gYXJyYXlQb3NbMV07XHJcbiAgICAgIG1vc2FpYy5zdHlsZS50b3AgPSBgJHtwdXp6bGVIZWlnaHQgKiBpbmRleEhlaWdodH1weGA7XHJcbiAgICAgIG1vc2FpYy5zdHlsZS5sZWZ0ID0gYCR7cHV6emxlV2lkdGggKiBpbmRleFdpZHRofXB4YDtcclxuXHJcbiAgICAgIGlmIChpbmRleCA9PT0gbnVtYmVyT2ZNb3NhaWNzIC0gMSkge1xyXG4gICAgICAgIG1vc2FpYy5jbGFzc0xpc3QuYWRkKCdlbXB0eS1tb3NhaWMnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtb3NhaWMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBlbXB0eUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1wdHktbW9zYWljJyk7XHJcbiAgICAgICAgICBpZiAoc2VhcmNoRGlmZihlbXB0eUVsZW1lbnQsIG1vc2FpYykgPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5leGNoYW5nZUVsZW1lbnRzKGVtcHR5RWxlbWVudCwgbW9zYWljKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5nYW1lUHV6emxlLmFwcGVuZENoaWxkKG1vc2FpYyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZGlzcGxhY2VtZW50QXJyID0gbG9hZEdhbWVPYmouZGlzcGxhY2VtZW50QXJyO1xyXG5cclxuICAgIHRoaXMuaW1hZ2VJbmRleCA9IGxvYWRHYW1lT2JqLmltYWdlSW5kZXg7XHJcbiAgICB0aGlzLnNldEJnSW1hZ2UobGVuZ3RoTGluZSwgdGhpcy5pbWFnZUluZGV4KTtcclxuXHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy50aW1lTW92ZXMuc2VjdGlvblRpbWVNb3ZlcywgJ29uJyk7XHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5jb3VudFNlY29uZHMgPSBsb2FkR2FtZU9iai5jb3VudFNlY29uZHM7XHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5mbGFnVGltZSA9IHRydWU7XHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5zdG9wd2F0Y2godGhpcy50aW1lTW92ZXMuY291bnRTZWNvbmRzKTtcclxuXHJcbiAgICB0aGlzLnRpbWVNb3Zlcy5jb3VudE1vdmVzID0gbG9hZEdhbWVPYmouY291bnRNb3ZlcztcclxuICAgIHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMubGFzdENoaWxkLmlubmVySFRNTCA9IGBNb3Zlczoke3RoaXMudGltZU1vdmVzLmNvdW50TW92ZXN9YDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZVNjb3JlcygpIHtcclxuICAgIGNvbnN0IGdhbWVTY29yZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgZ2FtZVNjb3Jlcy5jbGFzc05hbWUgPSAnZ2FtZS1zY29yZXMgZGlzcGxheS1ub25lJztcclxuICAgIHRoaXMuZ2FtZUJvYXJkLmFwcGVuZENoaWxkKGdhbWVTY29yZXMpO1xyXG5cclxuICAgIHJldHVybiBnYW1lU2NvcmVzO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2NvcmVzKCkge1xyXG4gICAgY29uc3QgbG9hZFNjb3Jlc09iaiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcnJheVNjb3JlcycpICE9IG51bGwgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcnJheVNjb3JlcycpKSA6IG5ldyBBcnJheSgwKTtcclxuICAgIGNvbnN0IHNhdmVTY29yZSA9IHt9O1xyXG4gICAgc2F2ZVNjb3JlLmNvdW50U2Vjb25kcyA9IHRoaXMudGltZU1vdmVzLmNvdW50U2Vjb25kcztcclxuICAgIHNhdmVTY29yZS5jb3VudE1vdmVzID0gdGhpcy50aW1lTW92ZXMuY291bnRNb3ZlcztcclxuICAgIHNhdmVTY29yZS5uYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VudGVyTmFtZScpID09PSAnWyDQktCy0LXQtNC40YLQtSDQuNC80Y8gXScgPyAn0JDQvdC+0L3QuNC8JyA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbnRlck5hbWUnKTtcclxuICAgIHNhdmVTY29yZS5jb21wbGV4aXR5ID0gdGhpcy5nYW1lUHV6emxlLmNoaWxkcmVuLmxlbmd0aCAqKiAwLjU7XHJcbiAgICBpZiAobG9hZFNjb3Jlc09iai5sZW5ndGggPT09IDApIHtcclxuICAgICAgbG9hZFNjb3Jlc09iai5wdXNoKHNhdmVTY29yZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsb2FkU2NvcmVzT2JqLnB1c2goc2F2ZVNjb3JlKTtcclxuICAgICAgbG9hZFNjb3Jlc09iai5zb3J0KChvYmpBLCBvYmpCKSA9PiB7XHJcbiAgICAgICAgaWYgKG9iakEuY291bnRNb3ZlcyA+IG9iakIuY291bnRNb3Zlcykge1xyXG4gICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfSBpZiAob2JqQS5jb3VudE1vdmVzIDwgb2JqQi5jb3VudE1vdmVzKSB7XHJcbiAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmpBLmNvdW50U2Vjb25kcyA+IG9iakIuY291bnRTZWNvbmRzKSB7XHJcbiAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9IGlmIChvYmpBLmNvdW50U2Vjb25kcyA8IG9iakIuY291bnRTZWNvbmRzKSB7XHJcbiAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGxvYWRTY29yZXNPYmoubGVuZ3RoID4gMTApIHtcclxuICAgICAgICBsb2FkU2NvcmVzT2JqLnBvcCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXJyYXlTY29yZXMnLCBKU09OLnN0cmluZ2lmeShsb2FkU2NvcmVzT2JqKSk7XHJcbiAgfVxyXG5cclxuICBmaWxsU2NvcmVzKCkge1xyXG4gICAgd2hpbGUgKHRoaXMuZ2FtZVNjb3Jlcy5maXJzdENoaWxkKSB7XHJcbiAgICAgIHRoaXMuZ2FtZVNjb3Jlcy5yZW1vdmVDaGlsZCh0aGlzLmdhbWVTY29yZXMuZmlyc3RDaGlsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbG9hZFNjb3Jlc09iaiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcnJheVNjb3JlcycpICE9IG51bGwgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcnJheVNjb3JlcycpKSA6IG5ldyBBcnJheSgwKTtcclxuICAgIGlmIChsb2FkU2NvcmVzT2JqLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zdCBpdGVtTm9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgIGl0ZW1Ob25lLmlubmVySFRNTCA9ICfQm9C40LTQtdGA0L7QsiDQtdGJ0LUg0L3QtdGCJztcclxuICAgICAgdGhpcy5nYW1lU2NvcmVzLmFwcGVuZENoaWxkKGl0ZW1Ob25lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxvYWRTY29yZXNPYmouZm9yRWFjaCgoc2NvcmVPYmosIGluZGV4T2JqKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXRlbU9iaiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgaXRlbU9iai5pbm5lckhUTUwgPSBgJHtpbmRleE9iaiArIDF9LiAke3Njb3JlT2JqLm5hbWV9IC0gJHtzY29yZU9iai5jb3VudE1vdmVzfSgke3Njb3JlT2JqLmNvbXBsZXhpdHl9eCR7c2NvcmVPYmouY29tcGxleGl0eX0pINC30LAgJHt0aW1lQ29udmVyc2lvbihzY29yZU9iai5jb3VudFNlY29uZHMpfWA7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NvcmVzLmFwcGVuZENoaWxkKGl0ZW1PYmopO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpdGVtQmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICBpdGVtQmFjay5pbm5lckhUTUwgPSAnTWFpbiBtZW51JztcclxuICAgIGl0ZW1CYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmdhbWVTY29yZXMuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVTY29yZXMsICdvZmYnKTtcclxuICAgICAgdGhpcy5nYW1lTWVudS5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZU1lbnUsICdvbicpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmdhbWVTY29yZXMuYXBwZW5kQ2hpbGQoaXRlbUJhY2spO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlU2V0dGluZ3MoKSB7XHJcbiAgICBjb25zdCBnYW1lU2V0dGluZ3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgZ2FtZVNldHRpbmdzLmNsYXNzTmFtZSA9ICdnYW1lLXNldHRpbmdzIGRpc3BsYXktbm9uZSc7XHJcbiAgICB0aGlzLmdhbWVCb2FyZC5hcHBlbmRDaGlsZChnYW1lU2V0dGluZ3MpO1xyXG5cclxuICAgIHRoaXMuZmlsbFNldHRpbmdzKGdhbWVTZXR0aW5ncyk7XHJcblxyXG4gICAgcmV0dXJuIGdhbWVTZXR0aW5ncztcclxuICB9XHJcblxyXG4gIGZpbGxTZXR0aW5ncyhnYW1lU2V0dGluZ3MpIHtcclxuICAgIGNvbnN0IHNldHRpbmdzU2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcbiAgICBzZXR0aW5nc1NlbGVjdC5jbGFzc05hbWUgPSAnZ2FtZS1zZXR0aW5ncy1zZWxlY3QnO1xyXG5cclxuICAgIFsnQ2hvb3NlIHRoZSBkaWZmaWN1bHR5OicsICcnLCAnTWFpbiBtZW51J10uZm9yRWFjaCgoaXRlbVNldHRpbmdzTmFtZSwgaW5kZXhTZXR0aW5ncykgPT4ge1xyXG4gICAgICBjb25zdCBpdGVtU2V0dGluZ3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cclxuICAgICAgaWYgKGl0ZW1TZXR0aW5nc05hbWUgPT09ICcnKSB7XHJcbiAgICAgICAgWyczeDMnLCAnNHg0JywgJzV4NScsICc2eDYnLCAnN3g3JywgJzh4OCddLmZvckVhY2goKGl0ZW1TZWxlY3ROYW1lKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBpdGVtU2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICBpdGVtU2VsZWN0LmlubmVySFRNTCA9IGl0ZW1TZWxlY3ROYW1lO1xyXG4gICAgICAgICAgaWYgKGl0ZW1TZWxlY3ROYW1lID09PSAnNHg0Jykge1xyXG4gICAgICAgICAgICBpdGVtU2VsZWN0LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNldHRpbmdzU2VsZWN0LmFwcGVuZENoaWxkKGl0ZW1TZWxlY3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0ZW1TZXR0aW5ncy5hcHBlbmRDaGlsZChzZXR0aW5nc1NlbGVjdCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaXRlbVNldHRpbmdzLmlubmVySFRNTCA9IGl0ZW1TZXR0aW5nc05hbWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpbmRleFNldHRpbmdzID09PSAyKSB7XHJcbiAgICAgICAgaXRlbVNldHRpbmdzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5nYW1lU2V0dGluZ3MuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVTZXR0aW5ncywgJ29mZicpO1xyXG4gICAgICAgICAgdGhpcy5nYW1lTWVudS5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZU1lbnUsICdvbicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBnYW1lU2V0dGluZ3MuYXBwZW5kQ2hpbGQoaXRlbVNldHRpbmdzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlSGVscCgpIHtcclxuICAgIGNvbnN0IGdhbWVIZWxwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIGdhbWVIZWxwLmNsYXNzTmFtZSA9ICdnYW1lLXNldHRpbmdzIGRpc3BsYXktbm9uZSc7XHJcbiAgICB0aGlzLmdhbWVCb2FyZC5hcHBlbmRDaGlsZChnYW1lSGVscCk7XHJcblxyXG4gICAgdGhpcy5maWxsSGVscChnYW1lSGVscCk7XHJcblxyXG4gICAgcmV0dXJuIGdhbWVIZWxwO1xyXG4gIH1cclxuXHJcbiAgZmlsbEhlbHAoZ2FtZUhlbHApIHtcclxuICAgIFsnMS4g0KHQvtGF0YDQsNC90LXQvdC40LUg0LjQs9GA0YsgLSBcIlNhdmUgZ2FtZVwiJywgJzIuINCe0YLQutC70Y7Rh9C10L3QuNC1INC30LLRg9C60LAgLSBcIlNvdW5kIG9uXCInLCAnMy4g0KDQtdGI0LXQvdC40LUg0LrQvtC80L/QvtC8IC0gIFwiU29sdmVcIiddLmZvckVhY2goKGVsZW1lbnROYW1lKSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgaXRlbUVsZW1lbnQuaW5uZXJIVE1MID0gZWxlbWVudE5hbWU7XHJcbiAgICAgIGdhbWVIZWxwLmFwcGVuZENoaWxkKGl0ZW1FbGVtZW50KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGl0ZW1CYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIGl0ZW1CYWNrLmlubmVySFRNTCA9ICdNYWluIG1lbnUnO1xyXG4gICAgaXRlbUJhY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGdhbWVIZWxwLmNsYXNzTmFtZSA9IHNldERpc3BsYXkoZ2FtZUhlbHAsICdvZmYnKTtcclxuICAgICAgdGhpcy5nYW1lTWVudS5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZU1lbnUsICdvbicpO1xyXG4gICAgfSk7XHJcbiAgICBnYW1lSGVscC5hcHBlbmRDaGlsZChpdGVtQmFjayk7XHJcbiAgfVxyXG5cclxuICBleGNoYW5nZUVsZW1lbnRzKGVtcHR5LCBmaWxsLCBmbGFnID0gdHJ1ZSkge1xyXG4gICAgaWYgKGVtcHR5ICYmIGZpbGwpIHtcclxuICAgICAgY29uc3QgY2xvbmVkRWxlbWVudDEgPSBlbXB0eS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IGNsb25lZEVsZW1lbnQyID0gZmlsbC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICBmaWxsLnN0eWxlLmxlZnQgPSBjbG9uZWRFbGVtZW50MS5zdHlsZS5sZWZ0O1xyXG4gICAgICBmaWxsLnN0eWxlLnRvcCA9IGNsb25lZEVsZW1lbnQxLnN0eWxlLnRvcDtcclxuXHJcbiAgICAgIGVtcHR5LnN0eWxlLmxlZnQgPSBjbG9uZWRFbGVtZW50Mi5zdHlsZS5sZWZ0O1xyXG4gICAgICBlbXB0eS5zdHlsZS50b3AgPSBjbG9uZWRFbGVtZW50Mi5zdHlsZS50b3A7XHJcblxyXG4gICAgICBpZiAoZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi10aW1lbW92ZScpICE9IG51bGwpIHtcclxuICAgICAgICB0aGlzLnRpbWVNb3Zlcy5jaGFuZ2VNb3ZlcygpO1xyXG4gICAgICAgIGlmIChmbGFnKSB7XHJcbiAgICAgICAgICBpZiAoZmlsbC5pZCAhPT0gdGhpcy5kaXNwbGFjZW1lbnRBcnJbdGhpcy5kaXNwbGFjZW1lbnRBcnIubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRBcnIucHVzaChmaWxsLmlkKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxhY2VtZW50QXJyLnBvcCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuZ2FtZVBvcFVwLmZpcnN0Q2hpbGQuY2hpbGRyZW5bMl0uaW5uZXJIVE1MID09PSAnU291bmQ6IG9uJyAmJiB0aGlzLnRpbWVNb3Zlcy5mbGFnVGltZSkge1xyXG4gICAgICAgIHNldFNvdW5kS2V5KDUsICdzcXVhcmUnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuc29sdXRpb25DaGVjay5zb2x2ZUZsYWcgJiYgdGhpcy5zb2x1dGlvbkNoZWNrLmNoZWNrU29sdmUoZW1wdHkpKSB7XHJcbiAgICAgICAgdGhpcy50aW1lTW92ZXMuZmxhZ1RpbWUgPSBmYWxzZTtcclxuICAgICAgICBBcnJheS5mcm9tKHRoaXMuZ2FtZVB1enpsZS5jaGlsZHJlbikuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LW5vbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWVQdXp6bGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnYXNzZXRzL2ltYWdlcy9ib3gvJHt0aGlzLmltYWdlSW5kZXh9LmpwZycpYDtcclxuICAgICAgICB0aGlzLmNyZWF0ZVdpbigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVXaW4oKSB7XHJcbiAgICBjb25zdCBibGFja291dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcclxuICAgIGJsYWNrb3V0LmNsYXNzTGlzdC5hZGQoJ2JsYWNrb3V0Jyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJsYWNrb3V0KTtcclxuXHJcbiAgICBjb25zdCBzZWN0aW9uV2luID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xyXG4gICAgc2VjdGlvbldpbi5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLXdpbicpO1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgIHNlY3Rpb25XaW4uc3R5bGUud2lkdGggPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjZ9cHhgO1xyXG4gICAgICBzZWN0aW9uV2luLnN0eWxlLmhlaWdodCA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAqIDAuNn1weGA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWN0aW9uV2luLnN0eWxlLndpZHRoID0gYCR7d2luZG93LmlubmVyV2lkdGggKiAwLjZ9cHhgO1xyXG4gICAgICBzZWN0aW9uV2luLnN0eWxlLmhlaWdodCA9IGAke3dpbmRvdy5pbm5lcldpZHRoICogMC42fXB4YDtcclxuICAgIH1cclxuICAgIHNlY3Rpb25XaW4uc3R5bGUubGVmdCA9IGAkeyh3aW5kb3cuaW5uZXJXaWR0aCAtIHNlY3Rpb25XaW4uc3R5bGUud2lkdGgucmVwbGFjZSgncHgnLCAnJykpIC8gMn1weGA7XHJcbiAgICBzZWN0aW9uV2luLnN0eWxlLnRvcCA9ICcwcHgnO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZWN0aW9uV2luKTtcclxuXHJcbiAgICBjb25zdCBsaXN0V2luID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIGxpc3RXaW4uY2xhc3NMaXN0LmFkZCgnc2VjdGlvbi11bCcpO1xyXG4gICAgc2VjdGlvbldpbi5hcHBlbmRDaGlsZChsaXN0V2luKTtcclxuICAgIGxpc3RXaW4uc3R5bGUud2lkdGggPSBgJHsrc2VjdGlvbldpbi5zdHlsZS53aWR0aC5yZXBsYWNlKCdweCcsICcnKSAqIDAuOX1weGA7XHJcbiAgICBsaXN0V2luLnN0eWxlLmhlaWdodCA9IGAkeytzZWN0aW9uV2luLnN0eWxlLmhlaWdodC5yZXBsYWNlKCdweCcsICcnKSAqIDAuMjY1fXB4YDtcclxuICAgIGxpc3RXaW4uc3R5bGUuZm9udFNpemUgPSBgJHsrbGlzdFdpbi5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykgKiAwLjJ9cHhgO1xyXG4gICAgbGlzdFdpbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBgJHsrbGlzdFdpbi5zdHlsZS5oZWlnaHQucmVwbGFjZSgncHgnLCAnJykgKiAwLjJ9cHhgO1xyXG5cclxuICAgIGNvbnN0IG1lc3NhZ2VXaW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgbWVzc2FnZVdpbi5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlLXdpbicpO1xyXG4gICAgbWVzc2FnZVdpbi5pbm5lckhUTUwgPSBg0KPRgNCwISDQktGLINGA0LXRiNC40LvQuCDQs9C+0LvQvtCy0L7Qu9C+0LzQutGDINC30LAgJHt0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLmZpcnN0Q2hpbGQuaW5uZXJIVE1MLnNsaWNlKDYpfSDQuCAke3RoaXMudGltZU1vdmVzLmNvdW50TW92ZXN9INGF0L7QtNC+0LJgO1xyXG4gICAgbGlzdFdpbi5hcHBlbmRDaGlsZChtZXNzYWdlV2luKTtcclxuXHJcbiAgICBjb25zdCBlbnRlck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgZW50ZXJOYW1lLmNsYXNzTGlzdC5hZGQoJ2VudGVyLW5hbWUnKTtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW50ZXJOYW1lJykgPT09IG51bGwpIHtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VudGVyTmFtZScsICdbINCS0LLQtdC00LjRgtC1INC40LzRjyBdJyk7XHJcbiAgICB9XHJcbiAgICBlbnRlck5hbWUuaW5uZXJIVE1MID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VudGVyTmFtZScpO1xyXG4gICAgZW50ZXJOYW1lLmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7XHJcblxyXG4gICAgZW50ZXJOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBlbnRlck5hbWUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9KTtcclxuICAgIGVudGVyTmFtZS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLndoaWNoID09PSAxMyB8fCBlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgaWYgKGVudGVyTmFtZS50ZXh0Q29udGVudCA9PT0gJycpIHtcclxuICAgICAgICAgIGVudGVyTmFtZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbnRlck5hbWUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VudGVyTmFtZScsIGUudGFyZ2V0LmlubmVyVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVudGVyTmFtZS5ibHVyKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZW50ZXJOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoZW50ZXJOYW1lLnRleHRDb250ZW50ID09PSAnJykge1xyXG4gICAgICAgIGVudGVyTmFtZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbnRlck5hbWUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW50ZXJOYW1lJywgZS50YXJnZXQuaW5uZXJUZXh0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGlzdFdpbi5hcHBlbmRDaGlsZChlbnRlck5hbWUpO1xyXG5cclxuICAgIGNvbnN0IGdvQmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICBnb0JhY2suY2xhc3NMaXN0LmFkZCgnYmFjaycpO1xyXG4gICAgZ29CYWNrLmlubmVySFRNTCA9ICdNYWluIG1lbnUnO1xyXG4gICAgbGlzdFdpbi5hcHBlbmRDaGlsZChnb0JhY2spO1xyXG5cclxuICAgIGdvQmFjay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5nYW1lUHV6emxlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICcnO1xyXG4gICAgICB0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLmdhbWVQdXp6bGUsICdvZmYnKTtcclxuICAgICAgdGhpcy5nYW1lTWVudS5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZU1lbnUsICdvbicpO1xyXG4gICAgICB0aGlzLmdhbWVQb3BVcEJ1dHRvbi5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVBvcFVwQnV0dG9uLCAnb2ZmJyk7XHJcbiAgICAgIHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMuY2xhc3NOYW1lID0gc2V0RGlzcGxheSh0aGlzLnRpbWVNb3Zlcy5zZWN0aW9uVGltZU1vdmVzLCAnb2ZmJyk7XHJcbiAgICAgIHRoaXMuZ2FtZVBvcFVwQnV0dG9uLmlubmVySFRNTCA9ICdQYXVzZSc7XHJcbiAgICAgIHRoaXMuZ2FtZVBvcFVwLmZpcnN0Q2hpbGQuY2hpbGRyZW5bMV0uaW5uZXJIVE1MID0gJ1NhdmUgZ2FtZSc7XHJcbiAgICAgIHRoaXMudXBkYXRlU2NvcmVzKCk7XHJcblxyXG4gICAgICB0aGlzLmRpc3BsYWNlbWVudEFyciA9IG5ldyBBcnJheSgwKTtcclxuICAgICAgdGhpcy50aW1lTW92ZXMuY291bnRNb3ZlcyA9IDA7XHJcbiAgICAgIHRoaXMudGltZU1vdmVzLmNvdW50U2Vjb25kcyA9IDA7XHJcblxyXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGJsYWNrb3V0KTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzZWN0aW9uV2luKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJsYWNrb3V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmdhbWVQdXp6bGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJyc7XHJcbiAgICAgIHRoaXMuZ2FtZVB1enpsZS5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMuZ2FtZVB1enpsZSwgJ29mZicpO1xyXG4gICAgICB0aGlzLmdhbWVNZW51LmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lTWVudSwgJ29uJyk7XHJcbiAgICAgIHRoaXMuZ2FtZVBvcFVwQnV0dG9uLmNsYXNzTmFtZSA9IHNldERpc3BsYXkodGhpcy5nYW1lUG9wVXBCdXR0b24sICdvZmYnKTtcclxuICAgICAgdGhpcy50aW1lTW92ZXMuc2VjdGlvblRpbWVNb3Zlcy5jbGFzc05hbWUgPSBzZXREaXNwbGF5KHRoaXMudGltZU1vdmVzLnNlY3Rpb25UaW1lTW92ZXMsICdvZmYnKTtcclxuICAgICAgdGhpcy5nYW1lUG9wVXBCdXR0b24uaW5uZXJIVE1MID0gJ1BhdXNlJztcclxuICAgICAgdGhpcy5nYW1lUG9wVXAuZmlyc3RDaGlsZC5jaGlsZHJlblsxXS5pbm5lckhUTUwgPSAnU2F2ZSBnYW1lJztcclxuICAgICAgdGhpcy51cGRhdGVTY29yZXMoKTtcclxuXHJcbiAgICAgIHRoaXMuZGlzcGxhY2VtZW50QXJyID0gbmV3IEFycmF5KDApO1xyXG4gICAgICB0aGlzLnRpbWVNb3Zlcy5jb3VudE1vdmVzID0gMDtcclxuICAgICAgdGhpcy50aW1lTW92ZXMuY291bnRTZWNvbmRzID0gMDtcclxuXHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYmxhY2tvdXQpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNlY3Rpb25XaW4pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXNpemVEaXNwbGF5KCkge1xyXG4gICAgdGhpcy5zZXRCb2FyZFNpemUoKTtcclxuICAgIHRoaXMuc2V0Rm9udFNpemUoKTtcclxuICAgIGlmICh0aGlzLmdhbWVQdXp6bGUuY2xhc3NOYW1lLmluZGV4T2YoJ2Rpc3BsYXktbm9uZScpID09PSAtMSkge1xyXG4gICAgICBjb25zdCBsZW5ndGhMaW5lID0gdGhpcy5nYW1lU2V0dGluZ3MuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0uc2VsZWN0ZWRJbmRleCArIDM7XHJcbiAgICAgIGNvbnN0IHB1enpsZVdpZHRoID0gdGhpcy5nYW1lQm9hcmQuY2xpZW50V2lkdGggLyBsZW5ndGhMaW5lO1xyXG4gICAgICBjb25zdCBwdXp6bGVIZWlnaHQgPSB0aGlzLmdhbWVCb2FyZC5jbGllbnRIZWlnaHQgLyBsZW5ndGhMaW5lO1xyXG5cclxuICAgICAgY29uc3QgZW1wdHlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVtcHR5LW1vc2FpYycpO1xyXG4gICAgICBjb25zdCBkaWZmTGVmdCA9ICtlbXB0eUVsZW1lbnQuc3R5bGUud2lkdGgucmVwbGFjZSgncHgnLCAnJykgLyBwdXp6bGVXaWR0aDtcclxuICAgICAgY29uc3QgZGlmZlRvcCA9ICtlbXB0eUVsZW1lbnQuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpIC8gcHV6emxlSGVpZ2h0O1xyXG5cclxuICAgICAgQXJyYXkuZnJvbSh0aGlzLmdhbWVQdXp6bGUuY2hpbGRyZW4pLmZvckVhY2goKG1vc2FpYykgPT4ge1xyXG4gICAgICAgIG1vc2FpYy5zdHlsZS53aWR0aCA9IGAke3B1enpsZVdpZHRofXB4YDtcclxuICAgICAgICBtb3NhaWMuc3R5bGUuaGVpZ2h0ID0gYCR7cHV6emxlSGVpZ2h0fXB4YDtcclxuXHJcbiAgICAgICAgbW9zYWljLnN0eWxlLnRvcCA9IGAkeyttb3NhaWMuc3R5bGUudG9wLnJlcGxhY2UoJ3B4JywgJycpIC8gZGlmZlRvcH1weGA7XHJcbiAgICAgICAgbW9zYWljLnN0eWxlLmxlZnQgPSBgJHsrbW9zYWljLnN0eWxlLmxlZnQucmVwbGFjZSgncHgnLCAnJykgLyBkaWZmTGVmdH1weGA7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5zZXRCZ0ltYWdlKGxlbmd0aExpbmUsIHRoaXMuaW1hZ2VJbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXZlcnNlU29sdmUoaSkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmRpc3BsYWNlbWVudEFyci5sZW5ndGggJiYgdGhpcy5nYW1lUG9wVXBCdXR0b24uaW5uZXJIVE1MID09PSAnUGF1c2UnKSB7XHJcbiAgICAgICAgdGhpcy5leGNoYW5nZUVsZW1lbnRzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbXB0eS1tb3NhaWMnKSwgdGhpcy5nYW1lUHV6emxlLnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuZGlzcGxhY2VtZW50QXJyW2ldfWApLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRBcnIucG9wKCk7XHJcbiAgICAgICAgdGhpcy5yZXZlcnNlU29sdmUodGhpcy5kaXNwbGFjZW1lbnRBcnIubGVuZ3RoIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH0sIDUwMCk7XHJcbiAgfVxyXG5cclxuICBzZXRCZ0ltYWdlKGxlbmd0aExpbmUsIGltYWdlSW5kZXgpIHtcclxuICAgIEFycmF5LmZyb20odGhpcy5nYW1lUHV6emxlLmNoaWxkcmVuKS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoaW5kZXggIT09IEFycmF5LmZyb20odGhpcy5nYW1lUHV6emxlLmNoaWxkcmVuKS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBgdXJsKCdhc3NldHMvaW1hZ2VzL2JveC8ke2ltYWdlSW5kZXh9LmpwZycpYDtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGltYWdlO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9ICduby1yZXBlYXQnO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBgJHt0aGlzLmdhbWVCb2FyZC5jbGllbnRXaWR0aH1weCAke3RoaXMuZ2FtZUJvYXJkLmNsaWVudEhlaWdodH1weGA7XHJcblxyXG4gICAgICAgIGNvbnN0IGluZGV4SGVpZ2h0ID0gZGl2SW50KGluZGV4LCBsZW5ndGhMaW5lKTtcclxuICAgICAgICBsZXQgaW5kZXhXaWR0aCA9IGluZGV4O1xyXG4gICAgICAgIHdoaWxlIChpbmRleFdpZHRoIC0gKGxlbmd0aExpbmUgLSAxKSA+IDApIHtcclxuICAgICAgICAgIGluZGV4V2lkdGggLT0gbGVuZ3RoTGluZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uWCA9IGAkeytlbGVtZW50LnN0eWxlLndpZHRoLnJlcGxhY2UoJ3B4JywgJycpICogLWluZGV4V2lkdGh9cHhgO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uWSA9IGAkeytlbGVtZW50LnN0eWxlLmhlaWdodC5yZXBsYWNlKCdweCcsICcnKSAqIC1pbmRleEhlaWdodH1weGA7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2h1ZmZsZVB1enpsZShsZW5ndGhMaW5lKSB7XHJcbiAgICB0aGlzLnNvbHV0aW9uQ2hlY2suc29sdmVGbGFnID0gZmFsc2U7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMCAqICgobGVuZ3RoTGluZSAtIDIpICoqIDIpOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgZW1wdHlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVtcHR5LW1vc2FpYycpO1xyXG4gICAgICBjb25zdCBjb3VudEFyciA9IG5ldyBBcnJheSgwKTtcclxuICAgICAgY29uc3QgbGVuZ3RoRGlzcGxhY2UgPSB0aGlzLmRpc3BsYWNlbWVudEFyci5sZW5ndGg7XHJcblxyXG4gICAgICBBcnJheS5mcm9tKHRoaXMuZ2FtZVB1enpsZS5jaGlsZHJlbikuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGlmIChzZWFyY2hEaWZmKGVtcHR5RWxlbWVudCwgZWxlbWVudCkgPT09IDEpIHtcclxuICAgICAgICAgIGlmICgobGVuZ3RoRGlzcGxhY2UgIT09IDAgJiYgZWxlbWVudCAhPT0gdGhpcy5nYW1lUHV6emxlLnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuZGlzcGxhY2VtZW50QXJyW2xlbmd0aERpc3BsYWNlIC0gMV19YCkpIHx8IGxlbmd0aERpc3BsYWNlID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvdW50QXJyLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IG1vdmFibGVFbGVtZW50ID0gY291bnRBcnJbZ2V0UmFuZG9tSW50KGNvdW50QXJyLmxlbmd0aCldO1xyXG4gICAgICB0aGlzLmV4Y2hhbmdlRWxlbWVudHMoZW1wdHlFbGVtZW50LCBtb3ZhYmxlRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zb2x1dGlvbkNoZWNrLnNvbHZlRmxhZyA9IHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQdXp6bGU7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./assets/js/classPuzzle.js\n");

/***/ }),

/***/ "./assets/js/classSolutionCheck.js":
/*!*****************************************!*\
  !*** ./assets/js/classSolutionCheck.js ***!
  \*****************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _etc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./etc */ \"./assets/js/etc.js\");\n;\r\n\r\nclass SolutionCheck {\r\n  constructor() {\r\n    this.solve = [];\r\n    this.solveFlag = false;\r\n  }\r\n\r\n  createSolve(lengthLine) {\r\n    this.solve = [];\r\n    for (let i = 0; i < lengthLine ** 2; i += 1) {\r\n      const indexHeight = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.divInt)(i, lengthLine);\r\n      let indexWidth = i;\r\n      while (indexWidth - (lengthLine - 1) > 0) {\r\n        indexWidth -= lengthLine;\r\n      }\r\n      this.solve.push([indexHeight, indexWidth]);\r\n    }\r\n  }\r\n\r\n  checkSolve(empty) {\r\n    const currentSolve = Array.from(empty.parentNode.children);\r\n    if (currentSolve.length !== this.solve.length) {\r\n      this.createSolve(currentSolve.length ** 0.5);\r\n    }\r\n    for (let i = currentSolve.length - 1; i >= 0; i -= 1) {\r\n      const diffTop = Math.abs(+currentSolve[i].style.top.replace('px', '') / +currentSolve[i].style.height.replace('px', '') - this.solve[i][0]);\r\n      const diffLeft = Math.abs(+currentSolve[i].style.left.replace('px', '') / +currentSolve[i].style.width.replace('px', '') - this.solve[i][1]);\r\n\r\n      if ((diffTop + diffLeft) !== 0) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SolutionCheck);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLXdlYnBhY2svLi9hc3NldHMvanMvY2xhc3NTb2x1dGlvbkNoZWNrLmpzPzI4ODkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxDQUErQjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLHFCQUFxQjtBQUN4QywwQkFBMEIsNENBQU07QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxRQUFRO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsYUFBYSxFQUFDIiwiZmlsZSI6Ii4vYXNzZXRzL2pzL2NsYXNzU29sdXRpb25DaGVjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpdkludCB9IGZyb20gJy4vZXRjJztcclxuXHJcbmNsYXNzIFNvbHV0aW9uQ2hlY2sge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zb2x2ZSA9IFtdO1xyXG4gICAgdGhpcy5zb2x2ZUZsYWcgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZVNvbHZlKGxlbmd0aExpbmUpIHtcclxuICAgIHRoaXMuc29sdmUgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoTGluZSAqKiAyOyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgaW5kZXhIZWlnaHQgPSBkaXZJbnQoaSwgbGVuZ3RoTGluZSk7XHJcbiAgICAgIGxldCBpbmRleFdpZHRoID0gaTtcclxuICAgICAgd2hpbGUgKGluZGV4V2lkdGggLSAobGVuZ3RoTGluZSAtIDEpID4gMCkge1xyXG4gICAgICAgIGluZGV4V2lkdGggLT0gbGVuZ3RoTGluZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNvbHZlLnB1c2goW2luZGV4SGVpZ2h0LCBpbmRleFdpZHRoXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja1NvbHZlKGVtcHR5KSB7XHJcbiAgICBjb25zdCBjdXJyZW50U29sdmUgPSBBcnJheS5mcm9tKGVtcHR5LnBhcmVudE5vZGUuY2hpbGRyZW4pO1xyXG4gICAgaWYgKGN1cnJlbnRTb2x2ZS5sZW5ndGggIT09IHRoaXMuc29sdmUubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuY3JlYXRlU29sdmUoY3VycmVudFNvbHZlLmxlbmd0aCAqKiAwLjUpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IGN1cnJlbnRTb2x2ZS5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xyXG4gICAgICBjb25zdCBkaWZmVG9wID0gTWF0aC5hYnMoK2N1cnJlbnRTb2x2ZVtpXS5zdHlsZS50b3AucmVwbGFjZSgncHgnLCAnJykgLyArY3VycmVudFNvbHZlW2ldLnN0eWxlLmhlaWdodC5yZXBsYWNlKCdweCcsICcnKSAtIHRoaXMuc29sdmVbaV1bMF0pO1xyXG4gICAgICBjb25zdCBkaWZmTGVmdCA9IE1hdGguYWJzKCtjdXJyZW50U29sdmVbaV0uc3R5bGUubGVmdC5yZXBsYWNlKCdweCcsICcnKSAvICtjdXJyZW50U29sdmVbaV0uc3R5bGUud2lkdGgucmVwbGFjZSgncHgnLCAnJykgLSB0aGlzLnNvbHZlW2ldWzFdKTtcclxuXHJcbiAgICAgIGlmICgoZGlmZlRvcCArIGRpZmZMZWZ0KSAhPT0gMCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTb2x1dGlvbkNoZWNrO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./assets/js/classSolutionCheck.js\n");

/***/ }),

/***/ "./assets/js/classTimeMoves.js":
/*!*************************************!*\
  !*** ./assets/js/classTimeMoves.js ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _etc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./etc */ \"./assets/js/etc.js\");\n;\r\n\r\nclass TimeMoves {\r\n  constructor() {\r\n    this.sectionTimeMoves = this.createSection();\r\n    this.countMoves = 0;\r\n    this.countSeconds = 0;\r\n    this.flagTime = false;\r\n  }\r\n\r\n  createSection() {\r\n    const sectionTimeMoves = document.createElement('section');\r\n    sectionTimeMoves.classList.add('section-timemove', 'display-none');\r\n    document.body.appendChild(sectionTimeMoves);\r\n\r\n    const timeElement = document.createElement('time');\r\n    sectionTimeMoves.appendChild(timeElement);\r\n\r\n    const moveElement = document.createElement('div');\r\n    sectionTimeMoves.appendChild(moveElement);\r\n\r\n    return sectionTimeMoves;\r\n  }\r\n\r\n  stopwatch(count) {\r\n    if (this.flagTime) {\r\n      this.sectionTimeMoves.firstChild.innerHTML = (0,_etc__WEBPACK_IMPORTED_MODULE_0__.timeConversion)(count);\r\n      setTimeout(() => {\r\n        this.countSeconds = count;\r\n        this.stopwatch(count + 1);\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  changeMoves() {\r\n    this.countMoves += 1;\r\n    this.sectionTimeMoves.lastChild.innerHTML = `Moves:${this.countMoves}`;\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TimeMoves);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLXdlYnBhY2svLi9hc3NldHMvanMvY2xhc3NUaW1lTW92ZXMuanM/N2U0ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLENBQXVDOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbURBQW1ELG9EQUFjO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5REFBeUQsZ0JBQWdCO0FBQ3pFO0FBQ0E7O0FBRUEsaUVBQWUsU0FBUyxFQUFDIiwiZmlsZSI6Ii4vYXNzZXRzL2pzL2NsYXNzVGltZU1vdmVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGltZUNvbnZlcnNpb24gfSBmcm9tICcuL2V0Yyc7XHJcblxyXG5jbGFzcyBUaW1lTW92ZXMge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zZWN0aW9uVGltZU1vdmVzID0gdGhpcy5jcmVhdGVTZWN0aW9uKCk7XHJcbiAgICB0aGlzLmNvdW50TW92ZXMgPSAwO1xyXG4gICAgdGhpcy5jb3VudFNlY29uZHMgPSAwO1xyXG4gICAgdGhpcy5mbGFnVGltZSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlU2VjdGlvbigpIHtcclxuICAgIGNvbnN0IHNlY3Rpb25UaW1lTW92ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XHJcbiAgICBzZWN0aW9uVGltZU1vdmVzLmNsYXNzTGlzdC5hZGQoJ3NlY3Rpb24tdGltZW1vdmUnLCAnZGlzcGxheS1ub25lJyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlY3Rpb25UaW1lTW92ZXMpO1xyXG5cclxuICAgIGNvbnN0IHRpbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGltZScpO1xyXG4gICAgc2VjdGlvblRpbWVNb3Zlcy5hcHBlbmRDaGlsZCh0aW1lRWxlbWVudCk7XHJcblxyXG4gICAgY29uc3QgbW92ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHNlY3Rpb25UaW1lTW92ZXMuYXBwZW5kQ2hpbGQobW92ZUVsZW1lbnQpO1xyXG5cclxuICAgIHJldHVybiBzZWN0aW9uVGltZU1vdmVzO1xyXG4gIH1cclxuXHJcbiAgc3RvcHdhdGNoKGNvdW50KSB7XHJcbiAgICBpZiAodGhpcy5mbGFnVGltZSkge1xyXG4gICAgICB0aGlzLnNlY3Rpb25UaW1lTW92ZXMuZmlyc3RDaGlsZC5pbm5lckhUTUwgPSB0aW1lQ29udmVyc2lvbihjb3VudCk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY291bnRTZWNvbmRzID0gY291bnQ7XHJcbiAgICAgICAgdGhpcy5zdG9wd2F0Y2goY291bnQgKyAxKTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VNb3ZlcygpIHtcclxuICAgIHRoaXMuY291bnRNb3ZlcyArPSAxO1xyXG4gICAgdGhpcy5zZWN0aW9uVGltZU1vdmVzLmxhc3RDaGlsZC5pbm5lckhUTUwgPSBgTW92ZXM6JHt0aGlzLmNvdW50TW92ZXN9YDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRpbWVNb3ZlcztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./assets/js/classTimeMoves.js\n");

/***/ }),

/***/ "./assets/js/etc.js":
/*!**************************!*\
  !*** ./assets/js/etc.js ***!
  \**************************/
/*! namespace exports */
/*! export addZero [provided] [no usage info] [missing usage info prevents renaming] */
/*! export divInt [provided] [no usage info] [missing usage info prevents renaming] */
/*! export getRandomInt [provided] [no usage info] [missing usage info prevents renaming] */
/*! export searchDiff [provided] [no usage info] [missing usage info prevents renaming] */
/*! export setDisplay [provided] [no usage info] [missing usage info prevents renaming] */
/*! export setSoundKey [provided] [no usage info] [missing usage info prevents renaming] */
/*! export timeConversion [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addZero\": () => /* binding */ addZero,\n/* harmony export */   \"divInt\": () => /* binding */ divInt,\n/* harmony export */   \"getRandomInt\": () => /* binding */ getRandomInt,\n/* harmony export */   \"searchDiff\": () => /* binding */ searchDiff,\n/* harmony export */   \"setDisplay\": () => /* binding */ setDisplay,\n/* harmony export */   \"timeConversion\": () => /* binding */ timeConversion,\n/* harmony export */   \"setSoundKey\": () => /* binding */ setSoundKey\n/* harmony export */ });\nfunction addZero(n) {\r\n  return (parseInt(n, 10) < 10 ? '0' : '') + n;\r\n}\r\n\r\nfunction divInt(a, b) {\r\n  return (a - (a % b)) / b;\r\n}\r\n\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nfunction searchDiff(empty, fill) {\r\n  const diffLeft = Math.abs((+empty.style.left.replace('px', '') - +fill.style.left.replace('px', '')) / fill.style.width.replace('px', ''));\r\n  const diffTop = Math.abs((+empty.style.top.replace('px', '') - +fill.style.top.replace('px', '')) / fill.style.height.replace('px', ''));\r\n  return +(diffLeft + diffTop).toFixed(1);\r\n}\r\n\r\nfunction setDisplay(element, toggle) {\r\n  return toggle === 'on' ? element.className.replace(' display-none', '') : `${element.className} display-none`;\r\n}\r\n\r\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\r\nconst context = new AudioContext();\r\nfunction setSoundKey(frequency, type) {\r\n  const newOscillator = context.createOscillator();\r\n  const newGain = context.createGain();\r\n  newOscillator.type = type;\r\n  newOscillator.connect(newGain);\r\n  newOscillator.frequency.value = frequency;\r\n  newGain.connect(context.destination);\r\n  newOscillator.start(0);\r\n\r\n  newGain.gain.exponentialRampToValueAtTime(\r\n    0.00001, context.currentTime + 1,\r\n  );\r\n}\r\n\r\nfunction timeConversion(count) {\r\n  const min = divInt(count, 60);\r\n  const second = count - min * 60;\r\n  return `<span>${addZero(min)}</span>:<span>${addZero(second)}</span>`;\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLXdlYnBhY2svLi9hc3NldHMvanMvZXRjLmpzP2JmYjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrRUFBK0Usa0JBQWtCO0FBQ2pHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhLGdCQUFnQixnQkFBZ0I7QUFDL0Q7O0FBSUUiLCJmaWxlIjoiLi9hc3NldHMvanMvZXRjLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYWRkWmVybyhuKSB7XHJcbiAgcmV0dXJuIChwYXJzZUludChuLCAxMCkgPCAxMCA/ICcwJyA6ICcnKSArIG47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpdkludChhLCBiKSB7XHJcbiAgcmV0dXJuIChhIC0gKGEgJSBiKSkgLyBiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSYW5kb21JbnQobWF4KSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IobWF4KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaERpZmYoZW1wdHksIGZpbGwpIHtcclxuICBjb25zdCBkaWZmTGVmdCA9IE1hdGguYWJzKCgrZW1wdHkuc3R5bGUubGVmdC5yZXBsYWNlKCdweCcsICcnKSAtICtmaWxsLnN0eWxlLmxlZnQucmVwbGFjZSgncHgnLCAnJykpIC8gZmlsbC5zdHlsZS53aWR0aC5yZXBsYWNlKCdweCcsICcnKSk7XHJcbiAgY29uc3QgZGlmZlRvcCA9IE1hdGguYWJzKCgrZW1wdHkuc3R5bGUudG9wLnJlcGxhY2UoJ3B4JywgJycpIC0gK2ZpbGwuc3R5bGUudG9wLnJlcGxhY2UoJ3B4JywgJycpKSAvIGZpbGwuc3R5bGUuaGVpZ2h0LnJlcGxhY2UoJ3B4JywgJycpKTtcclxuICByZXR1cm4gKyhkaWZmTGVmdCArIGRpZmZUb3ApLnRvRml4ZWQoMSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldERpc3BsYXkoZWxlbWVudCwgdG9nZ2xlKSB7XHJcbiAgcmV0dXJuIHRvZ2dsZSA9PT0gJ29uJyA/IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoJyBkaXNwbGF5LW5vbmUnLCAnJykgOiBgJHtlbGVtZW50LmNsYXNzTmFtZX0gZGlzcGxheS1ub25lYDtcclxufVxyXG5cclxuY29uc3QgQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xyXG5jb25zdCBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG5mdW5jdGlvbiBzZXRTb3VuZEtleShmcmVxdWVuY3ksIHR5cGUpIHtcclxuICBjb25zdCBuZXdPc2NpbGxhdG9yID0gY29udGV4dC5jcmVhdGVPc2NpbGxhdG9yKCk7XHJcbiAgY29uc3QgbmV3R2FpbiA9IGNvbnRleHQuY3JlYXRlR2FpbigpO1xyXG4gIG5ld09zY2lsbGF0b3IudHlwZSA9IHR5cGU7XHJcbiAgbmV3T3NjaWxsYXRvci5jb25uZWN0KG5ld0dhaW4pO1xyXG4gIG5ld09zY2lsbGF0b3IuZnJlcXVlbmN5LnZhbHVlID0gZnJlcXVlbmN5O1xyXG4gIG5ld0dhaW4uY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcclxuICBuZXdPc2NpbGxhdG9yLnN0YXJ0KDApO1xyXG5cclxuICBuZXdHYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShcclxuICAgIDAuMDAwMDEsIGNvbnRleHQuY3VycmVudFRpbWUgKyAxLFxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRpbWVDb252ZXJzaW9uKGNvdW50KSB7XHJcbiAgY29uc3QgbWluID0gZGl2SW50KGNvdW50LCA2MCk7XHJcbiAgY29uc3Qgc2Vjb25kID0gY291bnQgLSBtaW4gKiA2MDtcclxuICByZXR1cm4gYDxzcGFuPiR7YWRkWmVybyhtaW4pfTwvc3Bhbj46PHNwYW4+JHthZGRaZXJvKHNlY29uZCl9PC9zcGFuPmA7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgYWRkWmVybywgZGl2SW50LCBnZXRSYW5kb21JbnQsIHNlYXJjaERpZmYsIHNldERpc3BsYXksIHRpbWVDb252ZXJzaW9uLCBzZXRTb3VuZEtleSxcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./assets/js/etc.js\n");

/***/ }),

/***/ "./assets/js/main.js":
/*!***************************!*\
  !*** ./assets/js/main.js ***!
  \***************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _classPuzzle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./classPuzzle */ \"./assets/js/classPuzzle.js\");\n;\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const puzzle = new _classPuzzle__WEBPACK_IMPORTED_MODULE_0__.default();\r\n\r\n  window.addEventListener('resize', () => {\r\n    puzzle.resizeDisplay();\r\n  });\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLXdlYnBhY2svLi9hc3NldHMvanMvbWFpbi5qcz80NWQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsQ0FBbUM7O0FBRW5DO0FBQ0EscUJBQXFCLGlEQUFNOztBQUUzQjtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJmaWxlIjoiLi9hc3NldHMvanMvbWFpbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQdXp6bGUgZnJvbSAnLi9jbGFzc1B1enpsZSc7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIGNvbnN0IHB1enpsZSA9IG5ldyBQdXp6bGUoKTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgIHB1enpsZS5yZXNpemVEaXNwbGF5KCk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./assets/js/main.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./assets/js/main.js");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;